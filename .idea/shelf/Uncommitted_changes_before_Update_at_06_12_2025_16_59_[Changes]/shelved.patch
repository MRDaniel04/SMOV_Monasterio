Index: app/src/main/java/com/nextapp/monasterio/ui/navigation/AppNavigation.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.nextapp.monasterio.ui.navigation\r\n\r\nimport androidx.compose.foundation.clickable\r\nimport androidx.compose.foundation.layout.*\r\nimport androidx.compose.foundation.rememberScrollState\r\nimport androidx.compose.foundation.verticalScroll\r\nimport androidx.compose.material3.*\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.ui.Alignment\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.res.painterResource\r\nimport androidx.compose.ui.res.stringResource\r\nimport androidx.compose.ui.unit.dp\r\nimport androidx.lifecycle.viewmodel.compose.viewModel\r\nimport androidx.navigation.NavGraph.Companion.findStartDestination\r\nimport androidx.navigation.NavHostController\r\nimport androidx.navigation.NavType\r\nimport androidx.navigation.navArgument\r\nimport androidx.navigation.compose.NavHost\r\nimport androidx.navigation.compose.composable\r\nimport com.nextapp.monasterio.AppRoutes\r\nimport com.nextapp.monasterio.R\r\nimport com.nextapp.monasterio.models.ParejasData\r\nimport com.nextapp.monasterio.models.ParejasSize\r\n/*import com.nextapp.monasterio.models.ParejasData*/\r\nimport com.nextapp.monasterio.models.PuzzleSize\r\nimport com.nextapp.monasterio.ui.screens.* // Aseg√∫rate de importar PanoramaScreen y GaleriaScreen\r\nimport com.nextapp.monasterio.ui.screens.pinEdition.EdicionFondoInicio\r\nimport com.nextapp.monasterio.ui.screens.pinEdition.EdicionPines\r\nimport com.nextapp.monasterio.ui.screens.pinEdition.EdicionPinesHost\r\nimport com.nextapp.monasterio.ui.theme.MonasteryRed\r\nimport com.nextapp.monasterio.ui.theme.White\r\nimport com.nextapp.monasterio.ui.virtualvisit.screens.DetalleFiguraScreen\r\nimport com.nextapp.monasterio.ui.virtualvisit.screens.EntradaMonasterioFirestoreScreen\r\nimport com.nextapp.monasterio.ui.virtualvisit.screens.PinDetalleScreen\r\nimport com.nextapp.monasterio.viewModels.AjustesViewModel\r\nimport com.nextapp.monasterio.viewModels.InfoViewModel\r\nimport com.nextapp.monasterio.viewModels.HistoriaViewModel\r\nimport com.nextapp.monasterio.viewModels.AuthViewModel\r\nimport kotlinx.coroutines.CoroutineScope\r\nimport kotlinx.coroutines.launch\r\n\r\n@Composable\r\nfun AppNavigationHost(\r\n    modifier: Modifier = Modifier,\r\n    authViewModel: AuthViewModel = viewModel(),\r\n    historiaViewModel: HistoriaViewModel = viewModel(),\r\n    ajustesViewModel: AjustesViewModel = viewModel(),\r\n    infoViewModel: InfoViewModel = viewModel(),\r\n    navController: NavHostController,\r\n    isEditing: Boolean = false,\r\n    scaffoldPadding: PaddingValues = PaddingValues(0.dp)\r\n) {\r\n    NavHost(\r\n        navController = navController,\r\n        startDestination = AppRoutes.INICIO,\r\n        modifier = modifier\r\n    ) {\r\n        composable(AppRoutes.INICIO)   { HomeScreenContent(navController = navController, topPadding = scaffoldPadding, authViewModel = authViewModel) }\r\n        composable(AppRoutes.INFO) { InfoScreen(isEditing = isEditing, viewModel = infoViewModel, topPadding = scaffoldPadding) }\r\n        composable(AppRoutes.HISTORIA) { HistoriaScreen(isEditing = isEditing, viewModel = historiaViewModel,topPadding = scaffoldPadding) }\r\n        composable(AppRoutes.GALERIA)  { GaleriaScreen(navController = navController) }\r\n        composable(AppRoutes.MODO_NINYOS)   { OpcionesModoNi√±o(navController = navController, topPadding = scaffoldPadding) }\r\n        composable(AppRoutes.VIDEO_NINYOS)   { VideoNinyosScreen(topPadding = scaffoldPadding) }\r\n        composable(AppRoutes.PUZZLENIVEL1){PuzzleScreen(navController=navController,tama√±o = PuzzleSize(2,2))}\r\n        composable(AppRoutes.PUZZLENIVEL2){PuzzleScreen(navController=navController,tama√±o = PuzzleSize(3,3))}\r\n        composable(AppRoutes.PUZZLENIVEL3){PuzzleScreen(navController=navController,tama√±o = PuzzleSize(4,4))}\r\n        composable(AppRoutes.PUZZLENIVEL4){PuzzleScreen(navController=navController,tama√±o= PuzzleSize(5,5))}\r\n        composable(AppRoutes.JUEGO_NINYOS){OpcionesJuegoNinyos(navController=navController, topPadding = scaffoldPadding)}\r\n        composable(route=AppRoutes.MODO_EDICION) { OpcionesModoEdicion(navController = navController)}\r\n        composable(AppRoutes.EDICION_FONDO_INICIO) { EdicionFondoInicio(navController = navController) }\r\n        composable(AppRoutes.EDICION_PINES) { EdicionPines(navController) }\r\n        composable(AppRoutes.PERFIL)   { ProfileScreen(isEditing = isEditing, viewModel = authViewModel ) }\r\n        composable(AppRoutes.AJUSTES)  { AjustesScreen(viewModel = ajustesViewModel) }\r\n        composable (AppRoutes.JUEGO_PUZZLE) {JuegoPuzzleScreen(navController = navController, topPadding = scaffoldPadding)}\r\n        composable(AppRoutes.JUEGO_PAREJAS) {JuegoParejasScreen(navController = navController, topPadding = scaffoldPadding)}\r\n        composable(AppRoutes.PAREJASNIVEL1){ParejasScreen(navController=navController, size = ParejasSize(3,2),imagenes= ParejasData.IMAGENES_NIVEL1)}\r\n        composable(AppRoutes.PAREJASNIVEL2){ParejasScreen(navController=navController,size = ParejasSize(4,2),imagenes= ParejasData.IMAGENES_NIVEL2)}\r\n        composable(AppRoutes.PAREJASNIVEL3){ParejasScreen(navController=navController,size = ParejasSize(5,2),imagenes= ParejasData.IMAGENES_NIVEL3)}\r\n        composable(AppRoutes.PAREJASNIVEL4){ParejasScreen(navController=navController,size= ParejasSize(4,3),imagenes= ParejasData.IMAGENES_NIVEL4)}\r\n        composable(AppRoutes.JUEGO_DIFERENCIAS){DiferenciasScreen(navController=navController)}\r\n\r\n        // Ruta de Visita Virtual (Mapa)\r\n        composable(AppRoutes.VIRTUAL_VISIT) {\r\n            VirtualVisitScreen(navController = navController,viewModel = ajustesViewModel)\r\n        }\r\n\r\n        // Ruta al Edici√≥n Pines Host\r\n        composable(AppRoutes.EDICION_PINES) {\r\n            EdicionPinesHost(navController)\r\n        }\r\n\r\n\r\n        // --- ¬°¬°AQU√ç EST√Å LA NUEVA RUTA!! ---\r\n        // Ruta inmersiva para el 360 de un Pin (desde Firebase URL)\r\n        composable(\r\n            route = AppRoutes.PIN_360 + \"/{pinId}\",\r\n            arguments = listOf(navArgument(\"pinId\") { type = NavType.StringType })\r\n        ) { backStackEntry ->\r\n            val pinId = backStackEntry.arguments?.getString(\"pinId\")\r\n            if (pinId != null) {\r\n                Pin360Screen(\r\n                    pinId = pinId,\r\n                    navController = navController\r\n                )\r\n            }\r\n        }\r\n\r\n        // --- Pantalla de Entrada del Monasterio (desde Firebase Pin)\r\n        composable(\r\n            route = AppRoutes.PIN_ENTRADA_MONASTERIO + \"/{pinId}\",\r\n            arguments = listOf(navArgument(\"pinId\") { type = NavType.StringType })\r\n        ) { backStackEntry ->\r\n            val pinId = backStackEntry.arguments?.getString(\"pinId\") ?: \"\"\r\n            EntradaMonasterioFirestoreScreen(\r\n                pinId = pinId,\r\n                navController = navController,\r\n                rootNavController = navController\r\n            )\r\n        }\r\n\r\n        // --- FIN DE LA MODIFICACI√ìN ---\r\n\r\n        // (La ruta PIN_DETALLE se queda eliminada de aqu√≠, ¬°est√° bien!)\r\n\r\n        // --- RESTO DE TUS RUTAS ---\r\n        composable(AppRoutes.OPCIONES_RESERVA) { OpcionesReservaScreen(navController = navController, topPadding = scaffoldPadding) }\r\n        composable(AppRoutes.RESERVA) { ReservaScreen(navController = navController, topPadding = scaffoldPadding) }\r\n        composable(\r\n            route = AppRoutes.CONFIRMACION_RESERVA + \"/{nombre}/{email}/{fecha}/{hora}\",\r\n            arguments = listOf(\r\n                navArgument(\"nombre\") { type = NavType.StringType },\r\n                navArgument(\"email\") { type = NavType.StringType },\r\n                navArgument(\"fecha\") { type = NavType.StringType },\r\n                navArgument(\"hora\") { type = NavType.StringType }\r\n            )\r\n        ) { backStackEntry ->\r\n            val nombre = backStackEntry.arguments?.getString(\"nombre\") ?: \"\"\r\n            val email = backStackEntry.arguments?.getString(\"email\") ?: \"\"\r\n            val fecha = backStackEntry.arguments?.getString(\"fecha\") ?: \"\"\r\n            val hora = backStackEntry.arguments?.getString(\"hora\") ?: \"\"\r\n            ConfirmacionReservaScreen(\r\n                navController = navController,\r\n                nombre = nombre,\r\n                email = email,\r\n                fecha = fecha,\r\n                hora = hora\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n//\r\n// --- EL RESTO DEL ARCHIVO (AppDrawerContent y DrawerMenuItem) SE QUEDA IGUAL ---\r\n//\r\n\r\n@OptIn(ExperimentalMaterial3Api::class)\r\n@Composable\r\nfun AppDrawerContent(\r\n    navController: NavHostController,\r\n    scope: CoroutineScope,\r\n    drawerState: DrawerState\r\n) {\r\n    val navigateTo: (String) -> Unit = { route ->\r\n        navController.navigate(route) {\r\n            popUpTo(navController.graph.findStartDestination().id)\r\n            launchSingleTop = true\r\n        }\r\n        scope.launch { drawerState.close() }\r\n    }\r\n\r\n    ModalDrawerSheet(\r\n        modifier = Modifier.fillMaxHeight(),\r\n        drawerContainerColor = MonasteryRed,\r\n        drawerContentColor = White\r\n    ) {\r\n        Column(\r\n            modifier = Modifier\r\n                .fillMaxSize()\r\n                .verticalScroll(rememberScrollState())\r\n                .padding(16.dp)\r\n        ) {\r\n            IconButton(onClick = { scope.launch { drawerState.close() } }) {\r\n                Icon(\r\n                    painter = painterResource(id = R.drawable.ic_menu_24),\r\n                    contentDescription = stringResource(id = R.string.navigation_drawer_close)\r\n                )\r\n            }\r\n            Spacer(modifier = Modifier.height(32.dp))\r\n\r\n            DrawerMenuItem(text = stringResource(id = R.string.title_inicio)) { navigateTo(AppRoutes.INICIO) }\r\n            DrawerMenuItem(text = stringResource(id = R.string.menu_info)) { navigateTo(AppRoutes.INFO) }\r\n            DrawerMenuItem(text = stringResource(id = R.string.menu_history)) { navigateTo(AppRoutes.HISTORIA) }\r\n            DrawerMenuItem(text = stringResource(id = R.string.menu_gallery)) { navigateTo(AppRoutes.GALERIA) }\r\n            DrawerMenuItem(text = stringResource(id = R.string.menu_profile)) { navigateTo(AppRoutes.PERFIL) }\r\n            DrawerMenuItem(text = stringResource(id = R.string.menu_settings)) { navigateTo(AppRoutes.AJUSTES) }\r\n        }\r\n    }\r\n}\r\n\r\n@Composable\r\nfun DrawerMenuItem(text: String, onClick: () -> Unit) {\r\n    Row(\r\n        modifier = Modifier\r\n            .fillMaxWidth()\r\n            .clickable(onClick = onClick)\r\n            .padding(vertical = 12.dp),\r\n        verticalAlignment = Alignment.CenterVertically\r\n    ) {\r\n        Icon(\r\n            painter = painterResource(id = R.drawable.arrow_right),\r\n            contentDescription = null,\r\n            modifier = Modifier.size(20.dp)\r\n        )\r\n        Spacer(modifier = Modifier.width(16.dp))\r\n        Text(text = text, color = White, style = MaterialTheme.typography.bodyMedium)\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/nextapp/monasterio/ui/navigation/AppNavigation.kt b/app/src/main/java/com/nextapp/monasterio/ui/navigation/AppNavigation.kt
--- a/app/src/main/java/com/nextapp/monasterio/ui/navigation/AppNavigation.kt	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
+++ b/app/src/main/java/com/nextapp/monasterio/ui/navigation/AppNavigation.kt	(date 1765026013846)
@@ -31,7 +31,6 @@
 import com.nextapp.monasterio.ui.theme.MonasteryRed
 import com.nextapp.monasterio.ui.theme.White
 import com.nextapp.monasterio.ui.virtualvisit.screens.DetalleFiguraScreen
-import com.nextapp.monasterio.ui.virtualvisit.screens.EntradaMonasterioFirestoreScreen
 import com.nextapp.monasterio.ui.virtualvisit.screens.PinDetalleScreen
 import com.nextapp.monasterio.viewModels.AjustesViewModel
 import com.nextapp.monasterio.viewModels.InfoViewModel
@@ -106,22 +105,6 @@
             }
         }
 
-        // --- Pantalla de Entrada del Monasterio (desde Firebase Pin)
-        composable(
-            route = AppRoutes.PIN_ENTRADA_MONASTERIO + "/{pinId}",
-            arguments = listOf(navArgument("pinId") { type = NavType.StringType })
-        ) { backStackEntry ->
-            val pinId = backStackEntry.arguments?.getString("pinId") ?: ""
-            EntradaMonasterioFirestoreScreen(
-                pinId = pinId,
-                navController = navController,
-                rootNavController = navController
-            )
-        }
-
-        // --- FIN DE LA MODIFICACI√ìN ---
-
-        // (La ruta PIN_DETALLE se queda eliminada de aqu√≠, ¬°est√° bien!)
 
         // --- RESTO DE TUS RUTAS ---
         composable(AppRoutes.OPCIONES_RESERVA) { OpcionesReservaScreen(navController = navController, topPadding = scaffoldPadding) }
Index: app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/PlanoScreen.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.nextapp.monasterio.ui.virtualvisit.screens\r\n\r\nimport android.app.Activity\r\nimport android.content.pm.ActivityInfo\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport android.widget.FrameLayout\r\nimport android.widget.Toast\r\nimport androidx.compose.animation.core.*\r\nimport androidx.compose.foundation.background\r\nimport androidx.compose.foundation.layout.*\r\nimport androidx.compose.foundation.shape.CircleShape\r\nimport androidx.compose.foundation.shape.RoundedCornerShape\r\nimport androidx.compose.material3.*\r\nimport androidx.compose.runtime.*\r\nimport androidx.compose.ui.Alignment\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.geometry.Offset\r\nimport androidx.compose.ui.geometry.Size\r\nimport androidx.compose.ui.graphics.Color\r\nimport androidx.compose.ui.graphics.toArgb\r\nimport androidx.compose.ui.layout.onGloballyPositioned\r\nimport androidx.compose.ui.layout.positionInRoot\r\nimport androidx.compose.ui.platform.LocalConfiguration\r\nimport androidx.compose.ui.platform.LocalContext\r\nimport androidx.compose.ui.platform.LocalDensity\r\nimport androidx.compose.ui.res.painterResource\r\nimport androidx.compose.ui.res.stringResource\r\nimport androidx.compose.ui.unit.dp\r\nimport androidx.compose.ui.viewinterop.AndroidView\r\nimport androidx.navigation.NavController\r\nimport androidx.navigation.NavHostController\r\nimport android.graphics.Matrix\r\nimport android.graphics.Path\r\nimport android.util.Log\r\nimport androidx.compose.foundation.border\r\nimport androidx.compose.material3.FloatingActionButtonDefaults.elevation\r\nimport androidx.compose.ui.text.font.FontWeight\r\nimport androidx.compose.ui.text.style.TextAlign\r\nimport com.nextapp.monasterio.R\r\nimport com.nextapp.monasterio.AppRoutes\r\nimport com.nextapp.monasterio.models.*\r\nimport com.nextapp.monasterio.repository.*\r\nimport com.nextapp.monasterio.ui.virtualvisit.components.DebugPhotoView\r\nimport com.nextapp.monasterio.ui.virtualvisit.utils.isPointInPath\r\nimport com.nextapp.monasterio.ui.virtualvisit.utils.isPointInPinArea\r\nimport com.nextapp.monasterio.ui.screens.VirtualVisitRoutes\r\nimport com.nextapp.monasterio.viewModels.AjustesViewModel\r\nimport com.nextapp.monasterio.ui.virtualvisit.components.GenericTutorialOverlay\r\n\r\n// Clase auxiliar para definir los pasos del tutorial\r\nprivate data class TutorialStep(\r\n    val title: String? = null,\r\n    val description: String,\r\n    val focusCenter: Offset,\r\n    val focusRadius: Float = 0f,\r\n    val rectSize: Size? = null, // A√±adido para soportar focos rectangulares (ej. Zoom)\r\n    val alignment: Alignment = Alignment.BottomCenter // Para controlar si el texto sale arriba o abajo\r\n)\r\n\r\n@Composable\r\nfun PlanoScreen(\r\n    viewModel: AjustesViewModel,\r\n    planoId: String,\r\n    navController: NavController,\r\n    rootNavController: NavHostController? = null\r\n) {\r\n    val context = LocalContext.current\r\n    val activity = (context as? Activity)\r\n\r\n    DisposableEffect(Unit) {\r\n        activity?.requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED\r\n        onDispose {}\r\n    }\r\n\r\n\r\n\r\n    // -----------------------------------------------------------\r\n    // 1. CAPTURA DE COORDENADAS REALES (LAYOUT)\r\n    // -----------------------------------------------------------\r\n    val configuration = LocalConfiguration.current\r\n    val density = LocalDensity.current\r\n\r\n    // Calculamos el ancho y alto total en p√≠xeles\r\n    val screenWidthPx = with(density) { configuration.screenWidthDp.dp.toPx() }\r\n    val screenHeightPx = with(density) { configuration.screenHeightDp.dp.toPx() }\r\n\r\n    // El centro de la pantalla siempre se puede calcular matem√°ticamente\r\n    val screenCenter = remember(configuration) {\r\n        with(density) {\r\n            Offset(\r\n                x = configuration.screenWidthDp.dp.toPx() / 2,\r\n                y = configuration.screenHeightDp.dp.toPx() / 2\r\n            )\r\n        }\r\n    }\r\n\r\n    // Variables de estado para guardar la posici√≥n real de los elementos flotantes\r\n    // Se rellenar√°n autom√°ticamente gracias a .onGloballyPositioned\r\n    var backButtonLayout by remember { mutableStateOf<Pair<Offset, Size>?>(null) }\r\n    var zoomControlsLayout by remember { mutableStateOf<Pair<Offset, Size>?>(null) }\r\n\r\n    val scope = rememberCoroutineScope()\r\n\r\n    // --- Estados de Datos ---\r\n    var plano by remember { mutableStateOf<PlanoData?>(null) }\r\n    var figuras by remember { mutableStateOf<List<FiguraData>>(emptyList()) }\r\n    var pines by remember { mutableStateOf<List<PinData>>(emptyList()) }\r\n    var isLoading by remember { mutableStateOf(true) }\r\n\r\n    // --- Estados para carga del tutorial ---\r\n    var isError by remember { mutableStateOf(false) }\r\n    var retryTrigger by remember { mutableIntStateOf(0) }\r\n\r\n    // --- Estados Visuales ---\r\n    var activePath by remember { mutableStateOf<Path?>(null) }\r\n    var activeHighlight by remember { mutableStateOf<Color?>(null) }\r\n    var selectedPinId by remember { mutableStateOf<String?>(null) }\r\n\r\n    // --- LOGICA DE TUTORIAL ---\r\n    val isMainDismissed by viewModel.isMainMapDismissed.collectAsState()\r\n    val isSubDismissed by viewModel.isSubMapDismissed.collectAsState()\r\n    var showTutorialSession by remember { mutableStateOf(true) }\r\n\r\n    // Estado para saber en qu√© paso del tutorial estamos (0, 1, 2...)\r\n    var currentStepIndex by remember { mutableIntStateOf(0) }\r\n\r\n    val initialZoom = 1f\r\n    val planoBackgroundColor = Color(0xFFF5F5F5)\r\n    val botonesVisibles by viewModel.botonesVisibles.collectAsState()\r\n\r\n    // --- Efecto de parpadeo ---\r\n    val infiniteTransition = rememberInfiniteTransition(label = \"BlinkTransition\")\r\n    val blinkAlpha by infiniteTransition.animateFloat(\r\n        initialValue = 0f, targetValue = 1f,\r\n        animationSpec = infiniteRepeatable(tween(1500), RepeatMode.Reverse)\r\n    )\r\n\r\n    // --- Carga inicial ---\r\n    LaunchedEffect(planoId, retryTrigger) {\r\n        isLoading = true\r\n        isError = false\r\n        showTutorialSession = true\r\n        currentStepIndex = 0 // Reiniciamos los pasos al cambiar de plano\r\n        try {\r\n            plano = PlanoRepository.getPlanoById(planoId)\r\n            if (plano != null) {\r\n                Log.d(\"PlanoUniversal\", \"‚úÖ Plano cargado: ${plano!!.nombre}\")\r\n                Log.d(\"DEBUG_PLANO\", \"plano.figuras RAW: ${plano!!.figuras}\")\r\n\r\n                val figuraRefs = plano!!.figuras.map { it.substringAfterLast(\"/\") }\r\n\r\n                Log.d(\"DEBUG_PLANO\", \"IDs de figuras a buscar: $figuraRefs\")\r\n                figuras = FiguraRepository.getAllFiguras().filter { figuraRefs.contains(it.id) }\r\n\r\n                Log.d(\"DEBUG_PLANO\", \"Figuras finales dibujadas: ${figuras.size}\")\r\n                if (figuras.isEmpty()) {\r\n                    Log.e(\"DEBUG_PLANO\", \"\uD83D\uDEA8 ¬°La lista de figuras es CERO! Revisar mapeo de ID en FiguraRepository o referencias en PlanoData.\")\r\n                }\r\n\r\n                val pinRefs = plano!!.pines.map { it.substringAfterLast(\"/\") }\r\n                pines = PinRepository.getAllPins().filter { pinRefs.contains(it.id) }\r\n            } else {\r\n                Log.e(\"PlanoUniversal\", \"‚ö†\uFE0F Plano no encontrado con id=$planoId\")\r\n                isError = true\r\n            }\r\n        } catch (e: Exception) {\r\n            Log.e(\"PlanoUniversal\", \"‚ùå Error cargando plano\", e)\r\n            Toast.makeText(\r\n                context,\r\n                context.getString(R.string.error_loading_plane),\r\n                Toast.LENGTH_SHORT\r\n            ).show()\r\n            isError = true\r\n        } finally {\r\n            isLoading = false\r\n        }\r\n    }\r\n\r\n    // --- UI Principal ---\r\n    Box(\r\n        modifier = Modifier\r\n            .fillMaxSize()\r\n            .background(planoBackgroundColor)\r\n    ) {\r\n        if (isLoading) {\r\n            Box(modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center) {\r\n                Text(stringResource(R.string.plane_loading))\r\n            }\r\n            return@Box\r\n        }\r\n\r\n        if (isError) {\r\n            ConnectionErrorView(\r\n                onRetry = { retryTrigger++ },\r\n                onBack = { if (!navController.popBackStack()) rootNavController?.popBackStack() }\r\n            )\r\n            return@Box\r\n        }\r\n\r\n        var photoViewRef by remember { mutableStateOf<DebugPhotoView?>(null) }\r\n\r\n        // 1. Capa del Mapa Interactivo\r\n        AndroidView(\r\n            modifier = Modifier.fillMaxSize(),\r\n            factory = { ctx ->\r\n                DebugPhotoView(ctx).apply {\r\n                    layoutParams = FrameLayout.LayoutParams(\r\n                        FrameLayout.LayoutParams.MATCH_PARENT,\r\n                        FrameLayout.LayoutParams.MATCH_PARENT\r\n                    )\r\n                    plano?.let { p -> setImageFromUrl(p.plano) }\r\n                    post { setScale(initialZoom, true) }\r\n                    this.pins = emptyList()\r\n                }\r\n            },\r\n            update = { photoView ->\r\n                photoView.staticZones = figuras.map {\r\n                    DebugPhotoView.StaticZoneData(\r\n                        createPathFromFirebase(it),\r\n                        it.colorResaltado.toUInt().toInt()\r\n                    )\r\n                }\r\n\r\n                photoView.pins = pines.map { pin ->\r\n                    // Calcular el color base, usando el color del modelo (si existe) o Rojo por defecto (Android Color)\r\n\r\n                    DebugPhotoView.PinData(\r\n                        x = pin.x,\r\n                        y = pin.y,\r\n                        iconId = R.drawable.pin3,\r\n                        isPressed = pin.id == selectedPinId,\r\n                        isMoving = false\r\n                    )\r\n                }\r\n\r\n                photoView.blinkingAlpha = blinkAlpha\r\n                photoView.interactivePath = activePath\r\n                photoView.highlightColor = activeHighlight?.toArgb() ?: Color.Transparent.toArgb()\r\n                photoView.invalidate()\r\n\r\n                photoView.setOnPhotoTapListener { _, x, y ->\r\n                    val figura = figuras.find { isPointInPath(x, y, createPathFromFirebase(it)) }\r\n                    val pin = pines.find { isPointInPinArea(x, y, it.x, it.y, it.tapRadius) }\r\n                    when {\r\n                        figura != null -> {\r\n                            activePath = createPathFromFirebase(figura)\r\n                            activeHighlight = Color(figura.colorResaltado.toUInt().toInt())\r\n                            Handler(Looper.getMainLooper()).postDelayed({\r\n                                activeHighlight = null\r\n                                when (figura.tipoDestino) {\r\n                                    \"detalle\" -> navController.navigate(\"${VirtualVisitRoutes.DETALLE_GENERICO}/${figura.id}\")\r\n                                    \"plano\" -> {\r\n                                        val destinoId = figura.valorDestino\r\n                                        if (destinoId.isNotBlank()) navController.navigate(\"${VirtualVisitRoutes.PLANO}/$destinoId\")\r\n                                        else Toast.makeText(\r\n                                            context,\r\n                                            context.getString(R.string.notdefined_destinyplane),\r\n                                            Toast.LENGTH_SHORT\r\n                                        ).show()\r\n                                    }\r\n                                    else -> Toast.makeText(\r\n                                        context,\r\n                                        context.getString(R.string.notdefined_destiny),\r\n                                        Toast.LENGTH_SHORT\r\n                                    ).show()\r\n                                }\r\n                            }, 200)\r\n                        }\r\n\r\n                        pin != null -> {\r\n                            selectedPinId = pin.id // ‚≠ê CAMBIO: Almacena el ID del pin tocado\r\n                            Handler(Looper.getMainLooper()).postDelayed({\r\n                                selectedPinId = null // ‚≠ê CAMBIO: Restaura a nulo despu√©s del delay (deselecci√≥n)\r\n                                when (pin.tipoDestino?.lowercase()) {\r\n                                    \"ruta\" -> if (pin.valorDestino != null) rootNavController?.navigate(\r\n                                        \"${AppRoutes.PIN_ENTRADA_MONASTERIO}/${pin.id}\"\r\n                                    )\r\n                                    \"detalle\" -> navController.navigate(AppRoutes.PIN_DETALLE + \"/${pin.id}\")\r\n                                }\r\n                            }, 200)\r\n                        }\r\n\r\n                        else -> { // ‚≠ê CAMBIO: Abrimos un bloque para a√±adir la l√≥gica de deselecci√≥n\r\n                            selectedPinId = null // ‚≠ê ADICI√ìN: Deseleccionar cualquier pin activo\r\n                            Toast.makeText(\r\n                                context,\r\n                                context.getString(R.string.out_interactive_area),\r\n                                Toast.LENGTH_SHORT\r\n                            ).show()\r\n                        }\r\n\r\n                    }\r\n                }\r\n                photoViewRef = photoView\r\n            }\r\n        )\r\n\r\n        // 2. Controles de Zoom\r\n        Column(\r\n            modifier = Modifier\r\n                .align(Alignment.CenterEnd)\r\n                .padding(end = 16.dp, bottom = 80.dp)\r\n                // \uD83D\uDC47 CAPTURAR POSICI√ìN REAL (Para que el tutorial no se descuadre)\r\n                .onGloballyPositioned { coordinates ->\r\n                    val position = coordinates.positionInRoot()\r\n                    val size = coordinates.size\r\n                    zoomControlsLayout = position to Size(size.width.toFloat(), size.height.toFloat())\r\n                },\r\n            verticalArrangement = Arrangement.spacedBy(12.dp)\r\n        ) {\r\n            if (botonesVisibles) {\r\n                // --- BOT√ìN AUMENTAR ---\r\n                FloatingActionButton(\r\n                    onClick = { photoViewRef?.let { it.setScale((it.scale + 0.2f).coerceAtMost(it.maximumScale), true) } },\r\n                    containerColor = Color.White,\r\n                    elevation = FloatingActionButtonDefaults.elevation(0.dp)\r\n                ) {\r\n                    Box(modifier = Modifier.size(48.dp).background(Color.White.copy(alpha = 0.7f), CircleShape).border(1.dp, Color.Black, CircleShape), contentAlignment = Alignment.Center) {\r\n                        Icon(\r\n                            painter = painterResource(id = R.drawable.aumentar_zoom),\r\n                            contentDescription = stringResource(R.string.increase),\r\n                            tint = Color.Unspecified,\r\n                            modifier = Modifier.size(32.dp)\r\n                        )\r\n                    }\r\n                }\r\n\r\n                // --- BOT√ìN DISMINUIR ---\r\n                FloatingActionButton(\r\n                    onClick = { photoViewRef?.let { it.setScale((it.scale - 0.2f).coerceAtLeast(it.minimumScale), true) } },\r\n                    containerColor = Color.White,\r\n                    elevation = FloatingActionButtonDefaults.elevation(0.dp)\r\n                ) {\r\n                    Box(modifier = Modifier.size(48.dp).background(Color.White.copy(alpha = 0.7f), CircleShape).border(1.dp, Color.Black, CircleShape), contentAlignment = Alignment.Center) {\r\n                        Icon(\r\n                            painter = painterResource(id = R.drawable.disminuir_zoom),\r\n                            contentDescription = stringResource(R.string.decrease),\r\n                            tint = Color.Unspecified,\r\n                            modifier = Modifier.size(32.dp)\r\n                        )\r\n                    }\r\n                }\r\n\r\n                // --- BOT√ìN REAJUSTAR (CON BORDE NEGRO) ---\r\n                FloatingActionButton(\r\n                    onClick = { photoViewRef?.apply { setScale(initialZoom, true); setTranslationX(0f); setTranslationY(0f) } },\r\n                    containerColor = Color.White,\r\n                    elevation = FloatingActionButtonDefaults.elevation(0.dp)\r\n                ) {\r\n                    Box(\r\n                        modifier = Modifier\r\n                            .size(48.dp)\r\n                            .background(Color.White.copy(alpha = 0.7f), CircleShape)\r\n                            .border(1.dp, Color.Black, CircleShape),\r\n                        contentAlignment = Alignment.Center\r\n                    ) {\r\n                        Icon(\r\n                            painter = painterResource(id = R.drawable.reajustar),\r\n                            contentDescription = stringResource(R.string.readjust),\r\n                            tint = Color.Unspecified,\r\n                            modifier = Modifier.size(36.dp)\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // 3. Bot√≥n Atr√°s\r\n        IconButton(\r\n            onClick = {\r\n                if (!navController.popBackStack()) {\r\n                    if (planoId == \"monasterio_exterior\") {\r\n                        rootNavController?.popBackStack()\r\n                    } else {\r\n                        navController.navigate(\"${VirtualVisitRoutes.PLANO}/monasterio_exterior\") {\r\n                            popUpTo(\"${VirtualVisitRoutes.PLANO}/monasterio_exterior\") {\r\n                                inclusive = false\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            modifier = Modifier\r\n                .align(Alignment.TopStart)\r\n                .statusBarsPadding()\r\n                .padding(16.dp)\r\n                .background(Color.Black.copy(alpha = 0.5f), shape = RoundedCornerShape(12.dp))\r\n                // \uD83D\uDC47 CAPTURAR POSICI√ìN REAL (Para que el tutorial no se descuadre)\r\n                .onGloballyPositioned { coordinates ->\r\n                    val position = coordinates.positionInRoot()\r\n                    val size = coordinates.size\r\n                    backButtonLayout = position to Size(size.width.toFloat(), size.height.toFloat())\r\n                }\r\n        ) {\r\n            Icon(\r\n                painter = painterResource(id = R.drawable.arrow_back),\r\n                contentDescription = stringResource(R.string.go_back),\r\n                tint = Color.White\r\n            )\r\n        }\r\n\r\n        // 4. TUTORIALES (L√≥gica Step-by-Step Din√°mica)\r\n        val isMainMap = (planoId == \"monasterio_exterior\")\r\n\r\n        // Solo mostrar si tenemos las coordenadas capturadas\r\n        val isLayoutReady = backButtonLayout != null && !isLoading && !isError\r\n\r\n        if (showTutorialSession && isLayoutReady) {\r\n            if (isMainMap && !isMainDismissed) {\r\n\r\n                // --- TUTORIAL MAPA PRINCIPAL (3 Pasos) ---\r\n                val steps = remember(backButtonLayout, zoomControlsLayout) {\r\n                    val list = mutableListOf<TutorialStep>()\r\n\r\n                    // Paso 0: Bienvenida (Foco Bot√≥n Atr√°s)\r\n                    if (backButtonLayout != null) {\r\n                        val (pos, size) = backButtonLayout!!\r\n                        list.add(\r\n                            TutorialStep(\r\n                                description = context.getString(R.string.map_tutorial_body1),\r\n                                focusCenter = Offset(pos.x + size.width / 2, pos.y + size.height / 2),\r\n                                focusRadius = 100f,\r\n                                alignment = Alignment.BottomCenter\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    // Paso 1: Zoom (Foco Mapa Centro)\r\n                    list.add(\r\n                        TutorialStep(\r\n                            description = context.getString(R.string.map_tutorial_body1_2),\r\n                            focusCenter = Offset(screenWidthPx * 0.3f, screenHeightPx * 0.45f),\r\n                            focusRadius = 250f,\r\n                            alignment = Alignment.BottomCenter\r\n                        )\r\n                    )\r\n\r\n                    // Paso 2: Zoom Controls (Foco Rectangular en controles)\r\n                    if (zoomControlsLayout != null) {\r\n                        val (pos, size) = zoomControlsLayout!!\r\n                        list.add(\r\n                            TutorialStep(\r\n                                description = context.getString(R.string.map_tutorial_body1_3),\r\n                                focusCenter = Offset(pos.x + size.width / 2, pos.y + size.height / 2),\r\n                                rectSize = size, // Usamos foco cuadrado para los botones\r\n                                focusRadius = 0f, // No usamos radio\r\n                                alignment = Alignment.BottomCenter // Di√°logo arriba para no tapar botones\r\n                            )\r\n                        )\r\n                    }\r\n                    list\r\n                }\r\n\r\n                if (steps.isNotEmpty() && currentStepIndex < steps.size) {\r\n                    val step = steps[currentStepIndex]\r\n                    val isLastStep = currentStepIndex == steps.size - 1\r\n                    val btnText =\r\n                        if (isLastStep) stringResource(R.string.understand) else stringResource(R.string.next)\r\n\r\n                    GenericTutorialOverlay(\r\n                        title = step.title,\r\n                        description = step.description,\r\n                        highlightCenter = step.focusCenter,\r\n                        highlightRadius = step.focusRadius,\r\n                        highlightRectSize = step.rectSize,\r\n                        dialogAlignment = step.alignment,\r\n                        buttonText = btnText,\r\n                        onCloseClicked = { permanent ->\r\n                            if (isLastStep) {\r\n                                showTutorialSession = false\r\n                                if (permanent) viewModel.dismissMainMap()\r\n                            } else {\r\n                                currentStepIndex++\r\n                                if (permanent) viewModel.dismissMainMap()\r\n                            }\r\n                        }\r\n                    )\r\n                }\r\n\r\n            } else if (!isMainMap && !isSubDismissed) {\r\n\r\n                val subSteps = remember(backButtonLayout) {\r\n                    val list = mutableListOf<TutorialStep>()\r\n\r\n                    if (backButtonLayout != null) {\r\n                        val (pos, size) = backButtonLayout!!\r\n                        list.add(\r\n                            TutorialStep(\r\n                                description = context.getString(R.string.submapa_1),\r\n                                focusCenter = Offset(pos.x + size.width / 2, pos.y + size.height / 2),\r\n                                focusRadius = 100f,\r\n                                alignment = Alignment.BottomCenter\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                    val (pos, size) = backButtonLayout!!\r\n                    list.add(\r\n                        TutorialStep(\r\n                            description = context.getString(R.string.submapa_2),\r\n                            focusCenter = Offset(screenWidthPx * 0.5f, screenHeightPx * 0.2f),\r\n                            focusRadius = 300f,\r\n                            alignment = Alignment.BottomCenter\r\n                        )\r\n                    )\r\n\r\n                    list\r\n                }\r\n\r\n                if (subSteps.isNotEmpty() && currentStepIndex < subSteps.size) {\r\n                    val step = subSteps[currentStepIndex]\r\n                    val isLastStep = currentStepIndex == subSteps.size - 1\r\n                    val btnText =\r\n                        if (isLastStep) stringResource(R.string.understand) else stringResource(R.string.next)\r\n\r\n                    GenericTutorialOverlay(\r\n                        description = step.description,\r\n                        highlightCenter = step.focusCenter,\r\n                        highlightRadius = step.focusRadius,\r\n                        highlightRectSize = step.rectSize,\r\n                        buttonText = btnText,\r\n                        dialogAlignment = step.alignment,\r\n                        onCloseClicked = { permanent ->\r\n                            if (isLastStep) {\r\n                                showTutorialSession = false\r\n                                if (permanent) viewModel.dismissSubMap()\r\n                            } else {\r\n                                currentStepIndex++\r\n                                if (permanent) viewModel.dismissSubMap()\r\n                            }\r\n                        }\r\n                    )\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// --- Helper para crear Paths (Fuera del composable) ---\r\nprivate fun createPathFromFirebase(figura: FiguraData): Path {\r\n    val path = Path()\r\n    if (figura.path.isEmpty()) return path\r\n    path.moveTo(figura.path[0].x, figura.path[0].y)\r\n    for (i in 1 until figura.path.size) {\r\n        path.lineTo(figura.path[i].x, figura.path[i].y)\r\n    }\r\n    path.close()\r\n    val matrix = Matrix().apply {\r\n        setScale(figura.scale, figura.scale)\r\n        postTranslate(figura.offsetX, figura.offsetY)\r\n    }\r\n    path.transform(matrix)\r\n    return path\r\n}\r\n\r\n@Composable\r\nfun ConnectionErrorView(onRetry: () -> Unit, onBack: () -> Unit) {\r\n    // 1. Definimos la secuencia de im√°genes para la animaci√≥n\r\n    // (Aseg√∫rate de que los nombres coinciden con tus archivos en res/drawable)\r\n    val wifiIcons = listOf(\r\n        R.drawable.wifi_1_bar,\r\n        R.drawable.wifi_2_bar,\r\n        R.drawable.wifi\r\n    )\r\n\r\n    // 2. Estado para controlar qu√© imagen se muestra\r\n    var currentIconIndex by remember { mutableIntStateOf(0) }\r\n\r\n    // 3. El bucle de animaci√≥n\r\n    LaunchedEffect(Unit) {\r\n        while (true) {\r\n            kotlinx.coroutines.delay(500) // Cambia de imagen cada 0.5 segundos\r\n            currentIconIndex = (currentIconIndex + 1) % wifiIcons.size\r\n        }\r\n    }\r\n\r\n    Box(\r\n        modifier = Modifier\r\n            .fillMaxSize()\r\n            .background(Color(0xFFF5F5F5)),\r\n        contentAlignment = Alignment.Center\r\n    ) {\r\n        Column(\r\n            horizontalAlignment = Alignment.CenterHorizontally,\r\n            verticalArrangement = Arrangement.Center,\r\n            modifier = Modifier.padding(32.dp)\r\n        ) {\r\n            // 4. Icono animado (Cambia seg√∫n el √≠ndice)\r\n            Icon(\r\n                painter = painterResource(id = wifiIcons[currentIconIndex]),\r\n                contentDescription = null,\r\n                tint = MaterialTheme.colorScheme.error, // Color rojo de error\r\n                modifier = Modifier.size(80.dp)\r\n            )\r\n\r\n            Spacer(Modifier.height(16.dp))\r\n\r\n            Text(\r\n                text = stringResource(R.string.error_connection_title),\r\n                style = MaterialTheme.typography.headlineSmall,\r\n                color = Color.Black,\r\n                fontWeight = FontWeight.Bold,\r\n                textAlign = TextAlign.Center\r\n            )\r\n\r\n            Spacer(Modifier.height(8.dp))\r\n\r\n            Text(\r\n                text = stringResource(R.string.error_connection_desc),\r\n                style = MaterialTheme.typography.bodyMedium,\r\n                color = Color.Gray,\r\n                textAlign = TextAlign.Center\r\n            )\r\n\r\n            Spacer(Modifier.height(32.dp))\r\n\r\n            Button(\r\n                onClick = onRetry,\r\n                modifier = Modifier.fillMaxWidth(0.7f),\r\n                shape = RoundedCornerShape(12.dp)\r\n            ) {\r\n                Text(stringResource(R.string.retry))\r\n            }\r\n        }\r\n\r\n        IconButton(\r\n            onClick = onBack,\r\n            modifier = Modifier\r\n                .align(Alignment.TopStart)\r\n                .statusBarsPadding()\r\n                .padding(16.dp)\r\n                .background(Color.White.copy(alpha = 0.8f), CircleShape)\r\n        ) {\r\n            Icon(\r\n                painter = painterResource(id = R.drawable.arrow_back),\r\n                contentDescription = stringResource(R.string.go_back),\r\n                tint = Color.Black\r\n            )\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/PlanoScreen.kt b/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/PlanoScreen.kt
--- a/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/PlanoScreen.kt	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
+++ b/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/PlanoScreen.kt	(date 1765025263053)
@@ -8,6 +8,7 @@
 import android.widget.Toast
 import androidx.compose.animation.core.*
 import androidx.compose.foundation.background
+import androidx.compose.foundation.border
 import androidx.compose.foundation.layout.*
 import androidx.compose.foundation.shape.CircleShape
 import androidx.compose.foundation.shape.RoundedCornerShape
@@ -26,6 +27,8 @@
 import androidx.compose.ui.platform.LocalDensity
 import androidx.compose.ui.res.painterResource
 import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.text.font.FontWeight
+import androidx.compose.ui.text.style.TextAlign
 import androidx.compose.ui.unit.dp
 import androidx.compose.ui.viewinterop.AndroidView
 import androidx.navigation.NavController
@@ -33,10 +36,6 @@
 import android.graphics.Matrix
 import android.graphics.Path
 import android.util.Log
-import androidx.compose.foundation.border
-import androidx.compose.material3.FloatingActionButtonDefaults.elevation
-import androidx.compose.ui.text.font.FontWeight
-import androidx.compose.ui.text.style.TextAlign
 import com.nextapp.monasterio.R
 import com.nextapp.monasterio.AppRoutes
 import com.nextapp.monasterio.models.*
@@ -47,15 +46,15 @@
 import com.nextapp.monasterio.ui.screens.VirtualVisitRoutes
 import com.nextapp.monasterio.viewModels.AjustesViewModel
 import com.nextapp.monasterio.ui.virtualvisit.components.GenericTutorialOverlay
+import kotlinx.coroutines.delay
 
 // Clase auxiliar para definir los pasos del tutorial
 private data class TutorialStep(
-    val title: String? = null,
     val description: String,
     val focusCenter: Offset,
     val focusRadius: Float = 0f,
-    val rectSize: Size? = null, // A√±adido para soportar focos rectangulares (ej. Zoom)
-    val alignment: Alignment = Alignment.BottomCenter // Para controlar si el texto sale arriba o abajo
+    val rectSize: Size? = null,
+    val alignment: Alignment = Alignment.BottomCenter
 )
 
 @Composable
@@ -73,19 +72,10 @@
         onDispose {}
     }
 
-
-
-    // -----------------------------------------------------------
-    // 1. CAPTURA DE COORDENADAS REALES (LAYOUT)
-    // -----------------------------------------------------------
+    // 1. C√ÅLCULOS DE PANTALLA (LAYOUT)
     val configuration = LocalConfiguration.current
     val density = LocalDensity.current
 
-    // Calculamos el ancho y alto total en p√≠xeles
-    val screenWidthPx = with(density) { configuration.screenWidthDp.dp.toPx() }
-    val screenHeightPx = with(density) { configuration.screenHeightDp.dp.toPx() }
-
-    // El centro de la pantalla siempre se puede calcular matem√°ticamente
     val screenCenter = remember(configuration) {
         with(density) {
             Offset(
@@ -95,8 +85,7 @@
         }
     }
 
-    // Variables de estado para guardar la posici√≥n real de los elementos flotantes
-    // Se rellenar√°n autom√°ticamente gracias a .onGloballyPositioned
+    // Variables de estado para layout real
     var backButtonLayout by remember { mutableStateOf<Pair<Offset, Size>?>(null) }
     var zoomControlsLayout by remember { mutableStateOf<Pair<Offset, Size>?>(null) }
 
@@ -106,30 +95,31 @@
     var plano by remember { mutableStateOf<PlanoData?>(null) }
     var figuras by remember { mutableStateOf<List<FiguraData>>(emptyList()) }
     var pines by remember { mutableStateOf<List<PinData>>(emptyList()) }
+
     var isLoading by remember { mutableStateOf(true) }
-
-    // --- Estados para carga del tutorial ---
     var isError by remember { mutableStateOf(false) }
     var retryTrigger by remember { mutableIntStateOf(0) }
 
     // --- Estados Visuales ---
     var activePath by remember { mutableStateOf<Path?>(null) }
     var activeHighlight by remember { mutableStateOf<Color?>(null) }
+    var isPinPressed by remember { mutableStateOf(false) }
     var selectedPinId by remember { mutableStateOf<String?>(null) }
 
+    // üëá ESTADO PARA ANIMACI√ìN DE PINES (GIF)
+    var animatingPinId by remember { mutableStateOf<String?>(null) }
+
     // --- LOGICA DE TUTORIAL ---
     val isMainDismissed by viewModel.isMainMapDismissed.collectAsState()
     val isSubDismissed by viewModel.isSubMapDismissed.collectAsState()
     var showTutorialSession by remember { mutableStateOf(true) }
 
-    // Estado para saber en qu√© paso del tutorial estamos (0, 1, 2...)
     var currentStepIndex by remember { mutableIntStateOf(0) }
 
     val initialZoom = 1f
     val planoBackgroundColor = Color(0xFFF5F5F5)
     val botonesVisibles by viewModel.botonesVisibles.collectAsState()
 
-    // --- Efecto de parpadeo ---
     val infiniteTransition = rememberInfiniteTransition(label = "BlinkTransition")
     val blinkAlpha by infiniteTransition.animateFloat(
         initialValue = 0f, targetValue = 1f,
@@ -141,23 +131,13 @@
         isLoading = true
         isError = false
         showTutorialSession = true
-        currentStepIndex = 0 // Reiniciamos los pasos al cambiar de plano
+        currentStepIndex = 0
         try {
             plano = PlanoRepository.getPlanoById(planoId)
             if (plano != null) {
                 Log.d("PlanoUniversal", "‚úÖ Plano cargado: ${plano!!.nombre}")
-                Log.d("DEBUG_PLANO", "plano.figuras RAW: ${plano!!.figuras}")
-
                 val figuraRefs = plano!!.figuras.map { it.substringAfterLast("/") }
-
-                Log.d("DEBUG_PLANO", "IDs de figuras a buscar: $figuraRefs")
                 figuras = FiguraRepository.getAllFiguras().filter { figuraRefs.contains(it.id) }
-
-                Log.d("DEBUG_PLANO", "Figuras finales dibujadas: ${figuras.size}")
-                if (figuras.isEmpty()) {
-                    Log.e("DEBUG_PLANO", "üö® ¬°La lista de figuras es CERO! Revisar mapeo de ID en FiguraRepository o referencias en PlanoData.")
-                }
-
                 val pinRefs = plano!!.pines.map { it.substringAfterLast("/") }
                 pines = PinRepository.getAllPins().filter { pinRefs.contains(it.id) }
             } else {
@@ -166,16 +146,32 @@
             }
         } catch (e: Exception) {
             Log.e("PlanoUniversal", "‚ùå Error cargando plano", e)
-            Toast.makeText(
-                context,
-                context.getString(R.string.error_loading_plane),
-                Toast.LENGTH_SHORT
-            ).show()
             isError = true
         } finally {
             isLoading = false
         }
     }
+    // üëá TEMPORIZADOR DE ANIMACI√ìN MEJORADO üëá
+    // Usamos 'Unit' para que SOLO se lance una vez y el bucle while controle todo
+    LaunchedEffect(Unit) {
+        while (true) {
+            // 1. Fase est√°tica (4 segundos)
+            animatingPinId = null
+            delay(4000)
+
+            // 2. Fase Animada (Elegir y activar)
+            if (pines.isNotEmpty()) {
+                val randomPin = pines.random()
+                animatingPinId = randomPin.id
+
+                // 3. Duraci√≥n del GIF (2.5 segundos)
+                delay(2500)
+
+                // 4. Apagar
+                animatingPinId = null
+            }
+        }
+    }
 
     // --- UI Principal ---
     Box(
@@ -185,7 +181,7 @@
     ) {
         if (isLoading) {
             Box(modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center) {
-                Text(stringResource(R.string.plane_loading))
+                CircularProgressIndicator(color = MaterialTheme.colorScheme.primary)
             }
             return@Box
         }
@@ -214,6 +210,7 @@
                     this.pins = emptyList()
                 }
             },
+            // El bloque update se llama cuando cambia animatingPinId
             update = { photoView ->
                 photoView.staticZones = figuras.map {
                     DebugPhotoView.StaticZoneData(
@@ -223,12 +220,16 @@
                 }
 
                 photoView.pins = pines.map { pin ->
-                    // Calcular el color base, usando el color del modelo (si existe) o Rojo por defecto (Android Color)
+                    val baseColorInt = android.graphics.Color.WHITE
+
+                    // üëá SELECCI√ìN DE ICONO (GIF vs EST√ÅTICO)
+                    val isAnimating = pin.id == animatingPinId
+                    val iconRes = R.drawable.pin_animado
 
                     DebugPhotoView.PinData(
                         x = pin.x,
                         y = pin.y,
-                        iconId = R.drawable.pin3,
+                        iconId = iconRes, // Usamos el recurso din√°mico
                         isPressed = pin.id == selectedPinId,
                         isMoving = false
                     )
@@ -249,29 +250,21 @@
                             Handler(Looper.getMainLooper()).postDelayed({
                                 activeHighlight = null
                                 when (figura.tipoDestino) {
-                                    "detalle" -> navController.navigate("${VirtualVisitRoutes.DETALLE_GENERICO}/${figura.id}")
+                                    "detalle" -> navController.navigate("${VirtualVisitRoutes.DETALLE_GENERICO}/${figura.valorDestino}")
                                     "plano" -> {
                                         val destinoId = figura.valorDestino
                                         if (destinoId.isNotBlank()) navController.navigate("${VirtualVisitRoutes.PLANO}/$destinoId")
-                                        else Toast.makeText(
-                                            context,
-                                            context.getString(R.string.notdefined_destinyplane),
-                                            Toast.LENGTH_SHORT
-                                        ).show()
+                                        else Toast.makeText(context, context.getString(R.string.notdefined_destinyplane), Toast.LENGTH_SHORT).show()
                                     }
-                                    else -> Toast.makeText(
-                                        context,
-                                        context.getString(R.string.notdefined_destiny),
-                                        Toast.LENGTH_SHORT
-                                    ).show()
+                                    else -> Toast.makeText(context, context.getString(R.string.notdefined_destiny), Toast.LENGTH_SHORT).show()
                                 }
                             }, 200)
                         }
 
                         pin != null -> {
-                            selectedPinId = pin.id // ‚≠ê CAMBIO: Almacena el ID del pin tocado
+                            selectedPinId = pin.id
                             Handler(Looper.getMainLooper()).postDelayed({
-                                selectedPinId = null // ‚≠ê CAMBIO: Restaura a nulo despu√©s del delay (deselecci√≥n)
+                                selectedPinId = null
                                 when (pin.tipoDestino?.lowercase()) {
                                     "ruta" -> if (pin.valorDestino != null) rootNavController?.navigate(
                                         "${AppRoutes.PIN_ENTRADA_MONASTERIO}/${pin.id}"
@@ -281,15 +274,10 @@
                             }, 200)
                         }
 
-                        else -> { // ‚≠ê CAMBIO: Abrimos un bloque para a√±adir la l√≥gica de deselecci√≥n
-                            selectedPinId = null // ‚≠ê ADICI√ìN: Deseleccionar cualquier pin activo
-                            Toast.makeText(
-                                context,
-                                context.getString(R.string.out_interactive_area),
-                                Toast.LENGTH_SHORT
-                            ).show()
+                        else -> {
+                            selectedPinId = null
+                            Toast.makeText(context, context.getString(R.string.out_interactive_area), Toast.LENGTH_SHORT).show()
                         }
-
                     }
                 }
                 photoViewRef = photoView
@@ -301,7 +289,6 @@
             modifier = Modifier
                 .align(Alignment.CenterEnd)
                 .padding(end = 16.dp, bottom = 80.dp)
-                // üëá CAPTURAR POSICI√ìN REAL (Para que el tutorial no se descuadre)
                 .onGloballyPositioned { coordinates ->
                     val position = coordinates.positionInRoot()
                     val size = coordinates.size
@@ -310,10 +297,10 @@
             verticalArrangement = Arrangement.spacedBy(12.dp)
         ) {
             if (botonesVisibles) {
-                // --- BOT√ìN AUMENTAR ---
+                // --- AUMENTAR ---
                 FloatingActionButton(
                     onClick = { photoViewRef?.let { it.setScale((it.scale + 0.2f).coerceAtMost(it.maximumScale), true) } },
-                    containerColor = Color.White,
+                    containerColor = Color.Transparent,
                     elevation = FloatingActionButtonDefaults.elevation(0.dp)
                 ) {
                     Box(modifier = Modifier.size(48.dp).background(Color.White.copy(alpha = 0.7f), CircleShape).border(1.dp, Color.Black, CircleShape), contentAlignment = Alignment.Center) {
@@ -326,10 +313,10 @@
                     }
                 }
 
-                // --- BOT√ìN DISMINUIR ---
+                // --- DISMINUIR ---
                 FloatingActionButton(
                     onClick = { photoViewRef?.let { it.setScale((it.scale - 0.2f).coerceAtLeast(it.minimumScale), true) } },
-                    containerColor = Color.White,
+                    containerColor = Color.Transparent,
                     elevation = FloatingActionButtonDefaults.elevation(0.dp)
                 ) {
                     Box(modifier = Modifier.size(48.dp).background(Color.White.copy(alpha = 0.7f), CircleShape).border(1.dp, Color.Black, CircleShape), contentAlignment = Alignment.Center) {
@@ -342,17 +329,17 @@
                     }
                 }
 
-                // --- BOT√ìN REAJUSTAR (CON BORDE NEGRO) ---
+                // --- REAJUSTAR ---
                 FloatingActionButton(
                     onClick = { photoViewRef?.apply { setScale(initialZoom, true); setTranslationX(0f); setTranslationY(0f) } },
-                    containerColor = Color.White,
+                    containerColor = Color.Transparent,
                     elevation = FloatingActionButtonDefaults.elevation(0.dp)
                 ) {
                     Box(
                         modifier = Modifier
                             .size(48.dp)
                             .background(Color.White.copy(alpha = 0.7f), CircleShape)
-                            .border(1.dp, Color.Black, CircleShape),
+                            .border(1.dp, Color.Black, CircleShape), // BORDE NEGRO
                         contentAlignment = Alignment.Center
                     ) {
                         Icon(
@@ -374,9 +361,7 @@
                         rootNavController?.popBackStack()
                     } else {
                         navController.navigate("${VirtualVisitRoutes.PLANO}/monasterio_exterior") {
-                            popUpTo("${VirtualVisitRoutes.PLANO}/monasterio_exterior") {
-                                inclusive = false
-                            }
+                            popUpTo("${VirtualVisitRoutes.PLANO}/monasterio_exterior") { inclusive = false }
                         }
                     }
                 }
@@ -385,8 +370,7 @@
                 .align(Alignment.TopStart)
                 .statusBarsPadding()
                 .padding(16.dp)
-                .background(Color.Black.copy(alpha = 0.5f), shape = RoundedCornerShape(12.dp))
-                // üëá CAPTURAR POSICI√ìN REAL (Para que el tutorial no se descuadre)
+                .background(Color.Black.copy(alpha = 0.5f), RoundedCornerShape(12.dp))
                 .onGloballyPositioned { coordinates ->
                     val position = coordinates.positionInRoot()
                     val size = coordinates.size
@@ -400,20 +384,16 @@
             )
         }
 
-        // 4. TUTORIALES (L√≥gica Step-by-Step Din√°mica)
+        // 4. TUTORIALES
         val isMainMap = (planoId == "monasterio_exterior")
-
-        // Solo mostrar si tenemos las coordenadas capturadas
         val isLayoutReady = backButtonLayout != null && !isLoading && !isError
 
         if (showTutorialSession && isLayoutReady) {
             if (isMainMap && !isMainDismissed) {
-
-                // --- TUTORIAL MAPA PRINCIPAL (3 Pasos) ---
+                // ... (L√≥gica tutorial mapa principal) ...
                 val steps = remember(backButtonLayout, zoomControlsLayout) {
                     val list = mutableListOf<TutorialStep>()
 
-                    // Paso 0: Bienvenida (Foco Bot√≥n Atr√°s)
                     if (backButtonLayout != null) {
                         val (pos, size) = backButtonLayout!!
                         list.add(
@@ -426,26 +406,23 @@
                         )
                     }
 
-                    // Paso 1: Zoom (Foco Mapa Centro)
                     list.add(
                         TutorialStep(
                             description = context.getString(R.string.map_tutorial_body1_2),
-                            focusCenter = Offset(screenWidthPx * 0.3f, screenHeightPx * 0.45f),
+                            focusCenter = screenCenter,
                             focusRadius = 250f,
                             alignment = Alignment.BottomCenter
                         )
                     )
 
-                    // Paso 2: Zoom Controls (Foco Rectangular en controles)
                     if (zoomControlsLayout != null) {
                         val (pos, size) = zoomControlsLayout!!
                         list.add(
                             TutorialStep(
                                 description = context.getString(R.string.map_tutorial_body1_3),
                                 focusCenter = Offset(pos.x + size.width / 2, pos.y + size.height / 2),
-                                rectSize = size, // Usamos foco cuadrado para los botones
-                                focusRadius = 0f, // No usamos radio
-                                alignment = Alignment.BottomCenter // Di√°logo arriba para no tapar botones
+                                rectSize = size,
+                                alignment = Alignment.TopCenter
                             )
                         )
                     }
@@ -455,11 +432,9 @@
                 if (steps.isNotEmpty() && currentStepIndex < steps.size) {
                     val step = steps[currentStepIndex]
                     val isLastStep = currentStepIndex == steps.size - 1
-                    val btnText =
-                        if (isLastStep) stringResource(R.string.understand) else stringResource(R.string.next)
+                    val btnText = if (isLastStep) stringResource(R.string.understand) else stringResource(R.string.next)
 
                     GenericTutorialOverlay(
-                        title = step.title,
                         description = step.description,
                         highlightCenter = step.focusCenter,
                         highlightRadius = step.focusRadius,
@@ -479,40 +454,37 @@
                 }
 
             } else if (!isMainMap && !isSubDismissed) {
-
+                // ... (L√≥gica tutorial submapa) ...
                 val subSteps = remember(backButtonLayout) {
                     val list = mutableListOf<TutorialStep>()
 
-                    if (backButtonLayout != null) {
-                        val (pos, size) = backButtonLayout!!
-                        list.add(
-                            TutorialStep(
-                                description = context.getString(R.string.submapa_1),
-                                focusCenter = Offset(pos.x + size.width / 2, pos.y + size.height / 2),
-                                focusRadius = 100f,
-                                alignment = Alignment.BottomCenter
-                            )
-                        )
-                    }
+                    list.add(
+                        TutorialStep(
+                            description = context.getString(R.string.submapa_1),
+                            focusCenter = screenCenter,
+                            focusRadius = 300f,
+                            alignment = Alignment.BottomCenter
+                        )
+                    )
 
-                    val (pos, size) = backButtonLayout!!
-                    list.add(
-                        TutorialStep(
-                            description = context.getString(R.string.submapa_2),
-                            focusCenter = Offset(screenWidthPx * 0.5f, screenHeightPx * 0.2f),
-                            focusRadius = 300f,
-                            alignment = Alignment.BottomCenter
-                        )
-                    )
-
+                    if (backButtonLayout != null) {
+                        val (pos, size) = backButtonLayout!!
+                        list.add(
+                            TutorialStep(
+                                description = context.getString(R.string.submapa_2),
+                                focusCenter = Offset(pos.x + size.width / 2, pos.y + size.height / 2),
+                                focusRadius = 100f,
+                                alignment = Alignment.BottomCenter
+                            )
+                        )
+                    }
                     list
                 }
 
                 if (subSteps.isNotEmpty() && currentStepIndex < subSteps.size) {
                     val step = subSteps[currentStepIndex]
                     val isLastStep = currentStepIndex == subSteps.size - 1
-                    val btnText =
-                        if (isLastStep) stringResource(R.string.understand) else stringResource(R.string.next)
+                    val btnText = if (isLastStep) stringResource(R.string.understand) else stringResource(R.string.next)
 
                     GenericTutorialOverlay(
                         description = step.description,
@@ -537,40 +509,19 @@
     }
 }
 
-// --- Helper para crear Paths (Fuera del composable) ---
-private fun createPathFromFirebase(figura: FiguraData): Path {
-    val path = Path()
-    if (figura.path.isEmpty()) return path
-    path.moveTo(figura.path[0].x, figura.path[0].y)
-    for (i in 1 until figura.path.size) {
-        path.lineTo(figura.path[i].x, figura.path[i].y)
-    }
-    path.close()
-    val matrix = Matrix().apply {
-        setScale(figura.scale, figura.scale)
-        postTranslate(figura.offsetX, figura.offsetY)
-    }
-    path.transform(matrix)
-    return path
-}
-
+// --- COMPONENTE DE ERROR DE CONEXI√ìN ---
 @Composable
 fun ConnectionErrorView(onRetry: () -> Unit, onBack: () -> Unit) {
-    // 1. Definimos la secuencia de im√°genes para la animaci√≥n
-    // (Aseg√∫rate de que los nombres coinciden con tus archivos en res/drawable)
     val wifiIcons = listOf(
         R.drawable.wifi_1_bar,
         R.drawable.wifi_2_bar,
         R.drawable.wifi
     )
-
-    // 2. Estado para controlar qu√© imagen se muestra
     var currentIconIndex by remember { mutableIntStateOf(0) }
 
-    // 3. El bucle de animaci√≥n
     LaunchedEffect(Unit) {
         while (true) {
-            kotlinx.coroutines.delay(500) // Cambia de imagen cada 0.5 segundos
+            kotlinx.coroutines.delay(500)
             currentIconIndex = (currentIconIndex + 1) % wifiIcons.size
         }
     }
@@ -586,14 +537,12 @@
             verticalArrangement = Arrangement.Center,
             modifier = Modifier.padding(32.dp)
         ) {
-            // 4. Icono animado (Cambia seg√∫n el √≠ndice)
             Icon(
                 painter = painterResource(id = wifiIcons[currentIconIndex]),
                 contentDescription = null,
-                tint = MaterialTheme.colorScheme.error, // Color rojo de error
+                tint = MaterialTheme.colorScheme.error,
                 modifier = Modifier.size(80.dp)
             )
-
             Spacer(Modifier.height(16.dp))
 
             Text(
@@ -603,7 +552,6 @@
                 fontWeight = FontWeight.Bold,
                 textAlign = TextAlign.Center
             )
-
             Spacer(Modifier.height(8.dp))
 
             Text(
@@ -612,7 +560,6 @@
                 color = Color.Gray,
                 textAlign = TextAlign.Center
             )
-
             Spacer(Modifier.height(32.dp))
 
             Button(
@@ -639,4 +586,21 @@
             )
         }
     }
+}
+
+// --- Helper para crear Paths ---
+private fun createPathFromFirebase(figura: FiguraData): Path {
+    val path = Path()
+    if (figura.path.isEmpty()) return path
+    path.moveTo(figura.path[0].x, figura.path[0].y)
+    for (i in 1 until figura.path.size) {
+        path.lineTo(figura.path[i].x, figura.path[i].y)
+    }
+    path.close()
+    val matrix = Matrix().apply {
+        setScale(figura.scale, figura.scale)
+        postTranslate(figura.offsetX, figura.offsetY)
+    }
+    path.transform(matrix)
+    return path
 }
\ No newline at end of file
Index: app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/components/DebugPhotoView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.nextapp.monasterio.ui.virtualvisit.components\r\n\r\nimport android.content.Context\r\nimport android.graphics.*\r\nimport android.util.AttributeSet\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport androidx.core.content.ContextCompat\r\nimport com.github.chrisbanes.photoview.PhotoView\r\n\r\nclass DebugPhotoView @JvmOverloads constructor(\r\n    context: Context,\r\n    attrs: AttributeSet? = null,\r\n    defStyle: Int = 0\r\n) : PhotoView(context, attrs, defStyle) {\r\n\r\n    var highlightColor: Int = Color.TRANSPARENT\r\n    var interactivePath: Path? = null\r\n\r\n    data class StaticZoneData(val path: Path, val color: Int)\r\n    var staticZones: List<StaticZoneData> = emptyList()\r\n\r\n    var blinkingAlpha:Float=1.0f\r\n\r\n\r\n    data class PinData(\r\n        val x: Float,\r\n        val y: Float,\r\n        val iconId: Int?,\r\n        val isPressed: Boolean,\r\n        val isMoving: Boolean\r\n    )\r\n    var pins: List<PinData> = emptyList()\r\n\r\n    private val highlightPaint = Paint().apply {\r\n        style = Paint.Style.STROKE\r\n        strokeWidth = 15f\r\n        isAntiAlias = true\r\n    }\r\n\r\n    private val zonePaint = Paint().apply{\r\n        style = Paint.Style.STROKE\r\n        strokeWidth = 20f\r\n        isAntiAlias = true\r\n    }\r\n\r\n    override fun onDraw(canvas: Canvas) {\r\n        super.onDraw(canvas)\r\n\r\n        val d = drawable ?: return\r\n        val matrixValues = FloatArray(9)\r\n        imageMatrix.getValues(matrixValues)\r\n\r\n        val scaleX = matrixValues[Matrix.MSCALE_X]\r\n        val scaleY = matrixValues[Matrix.MSCALE_Y]\r\n        val transX = matrixValues[Matrix.MTRANS_X]\r\n        val transY = matrixValues[Matrix.MTRANS_Y]\r\n\r\n        val drawMatrix = Matrix().apply {\r\n            setScale(scaleX * d.intrinsicWidth, scaleY * d.intrinsicHeight)\r\n            postTranslate(transX, transY)\r\n        }\r\n\r\n        if (staticZones.isNotEmpty()) {\r\n            staticZones.forEach { zone ->\r\n                val baseColor = zone.color\r\n                val baseRed = Color.red(baseColor)\r\n                val baseGreen = Color.green(baseColor)\r\n                val baseBlue = Color.blue(baseColor)\r\n                val baseAlpha = Color.alpha(baseColor)\r\n\r\n                val newAlpha = (baseAlpha * blinkingAlpha).toInt()\r\n\r\n                zonePaint.color = Color.argb(newAlpha, baseRed, baseGreen, baseBlue)\r\n                val pathCopy = Path(zone.path)\r\n                pathCopy.transform(drawMatrix)\r\n                canvas.drawPath(pathCopy, zonePaint)\r\n            }\r\n        }\r\n\r\n        interactivePath?.let { path ->\r\n            if (highlightColor != Color.TRANSPARENT) {\r\n                val pathCopy = Path(path)\r\n                pathCopy.transform(drawMatrix)\r\n                highlightPaint.color = highlightColor\r\n                canvas.drawPath(pathCopy, highlightPaint)\r\n            }\r\n        }\r\n\r\n        pins.forEach { pin ->\r\n            val icon = ContextCompat.getDrawable(context, pin.iconId ?: 0) ?: return@forEach\r\n\r\n            val imageX = pin.x * d.intrinsicWidth\r\n            val imageY = pin.y * d.intrinsicHeight\r\n\r\n            val screenX = imageX * scaleX + transX\r\n            val screenY = imageY * scaleY + transY\r\n\r\n\r\n            val scale = if (pin.isPressed) 0.85f else 1.0f\r\n            val sizePx = 80f * scale\r\n            val left = (screenX - sizePx / 2).toInt()\r\n            val top = (screenY - sizePx).toInt()\r\n            val right = (screenX + sizePx / 2).toInt()\r\n            val bottom = (screenY).toInt()\r\n\r\n            icon.setBounds(left, top, right, bottom)\r\n            icon.draw(canvas)\r\n        }\r\n    }\r\n\r\n    fun setImageFromUrl(url: String) {\r\n        try {\r\n            // Carga la imagen remota usando Glide (descarga y la muestra en el PhotoView)\r\n            com.bumptech.glide.Glide.with(context)\r\n                .asBitmap()\r\n                .load(url)\r\n                .into(this)\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n\r\n    fun getNormalizedImageCoords(screenX: Float, screenY: Float): PointF? {\r\n        val d = drawable ?: return null // Necesitas un Drawable para obtener sus dimensiones\r\n        val matrixValues = FloatArray(9)\r\n        imageMatrix.getValues(matrixValues)\r\n\r\n        val scaleX = matrixValues[Matrix.MSCALE_X]\r\n        val transX = matrixValues[Matrix.MTRANS_X]\r\n        val transY = matrixValues[Matrix.MTRANS_Y]\r\n\r\n        // 1. Convertir coordenadas de pantalla (X/Y) a coordenadas de imagen escaladas y trasladadas\r\n        // Coordenada de imagen (p√≠xeles) = (Coordenada de pantalla - Traslaci√≥n) / Escala\r\n\r\n        val imageX = (screenX - transX) / scaleX\r\n        val imageY = (screenY - transY) / scaleX // Asumimos scaleY = scaleX\r\n\r\n        // 2. Normalizar las coordenadas (0-1) dividiendo por las dimensiones intr√≠nsecas del Drawable\r\n        // Coordenada normalizada = Coordenada de imagen / Dimensi√≥n intr√≠nseca\r\n\r\n        val normalizedX = imageX / d.intrinsicWidth\r\n        val normalizedY = imageY / d.intrinsicHeight\r\n\r\n        // Log.d(\"CONVERSION\", \"Screen($screenX, $screenY) -> Image($imageX, $imageY) -> Norm($normalizedX, $normalizedY)\")\r\n\r\n        // Peque√±a correcci√≥n de l√≠mites por si acaso\r\n        val finalX = normalizedX.coerceIn(0f, 1f)\r\n        val finalY = normalizedY.coerceIn(0f, 1f)\r\n\r\n        return PointF(finalX, finalY)\r\n    }\r\n\r\n\r\n    fun moveVerticalFree(deltaY: Float) {\r\n\r\n        // Esta funci√≥n asume que est√° dentro de una clase que hereda de View (como DebugPhotoView).\r\n\r\n        // Si deltaY es positivo (como +120f), la vista se mover√° hacia abajo.\r\n        // No hay chequeos de l√≠mites, por lo que puede moverse indefinidamente.\r\n\r\n        // Aplicar el movimiento directamente a la propiedad de traslaci√≥n de la View.\r\n        this.translationY += deltaY\r\n\r\n        Log.d(\"MOVE_FREE\", \"Desplazamiento aplicado: $deltaY. Nueva translationY: ${this.translationY}\")\r\n    }\r\n\r\n    fun moveHorizontalFree(deltaX: Float) {\r\n\r\n        // Esta funci√≥n aplica un desplazamiento horizontal sin l√≠mites.\r\n\r\n        // Si deltaX es positivo (+), la vista se mover√° hacia la DERECHA.\r\n        // Si deltaX es negativo (-), la vista se mover√° hacia la IZQUIERDA.\r\n\r\n        // Aplicar el movimiento directamente a la propiedad de traslaci√≥n horizontal de la View.\r\n        this.translationX += deltaX\r\n\r\n        Log.d(\"MOVE_FREE_H\", \"Desplazamiento aplicado: $deltaX. Nueva translationX: ${this.translationX}\")\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/components/DebugPhotoView.kt b/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/components/DebugPhotoView.kt
--- a/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/components/DebugPhotoView.kt	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
+++ b/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/components/DebugPhotoView.kt	(date 1765025263106)
@@ -2,9 +2,10 @@
 
 import android.content.Context
 import android.graphics.*
+import android.graphics.drawable.Animatable
+import android.graphics.drawable.Drawable
 import android.util.AttributeSet
 import android.util.Log
-import android.widget.Toast
 import androidx.core.content.ContextCompat
 import com.github.chrisbanes.photoview.PhotoView
 
@@ -14,23 +15,39 @@
     defStyle: Int = 0
 ) : PhotoView(context, attrs, defStyle) {
 
+    private val TAG = "DEBUG_MAPA"
+
     var highlightColor: Int = Color.TRANSPARENT
     var interactivePath: Path? = null
 
     data class StaticZoneData(val path: Path, val color: Int)
     var staticZones: List<StaticZoneData> = emptyList()
 
-    var blinkingAlpha:Float=1.0f
+    var blinkingAlpha: Float = 1.0f
 
+    // CACH√â: Guardamos TODOS los iconos (est√°ticos y GIFs) para no cargarlos en bucle
+    private val drawableCache = mutableMapOf<Int, Drawable>()
 
     data class PinData(
         val x: Float,
         val y: Float,
         val iconId: Int?,
         val isPressed: Boolean,
-        val isMoving: Boolean
+        val isMoving: Boolean,
+        val pinColor: Int = Color.WHITE
     )
+
     var pins: List<PinData> = emptyList()
+        set(value) {
+            field = value
+            // No invalidamos aqu√≠ a lo loco, dejamos que el ciclo de animaci√≥n lo haga si es necesario
+            invalidate()
+        }
+
+    private val zonePaint = Paint().apply{
+        style = Paint.Style.FILL // Relleno para las zonas de color
+        isAntiAlias = true
+    }
 
     private val highlightPaint = Paint().apply {
         style = Paint.Style.STROKE
@@ -38,19 +55,16 @@
         isAntiAlias = true
     }
 
-    private val zonePaint = Paint().apply{
-        style = Paint.Style.STROKE
-        strokeWidth = 20f
-        isAntiAlias = true
-    }
+    private val density = context.resources.displayMetrics.density
 
     override fun onDraw(canvas: Canvas) {
         super.onDraw(canvas)
 
         val d = drawable ?: return
+
+        // 1. Obtener matriz de la imagen (Zoom y Pan)
         val matrixValues = FloatArray(9)
         imageMatrix.getValues(matrixValues)
-
         val scaleX = matrixValues[Matrix.MSCALE_X]
         val scaleY = matrixValues[Matrix.MSCALE_Y]
         val transX = matrixValues[Matrix.MTRANS_X]
@@ -61,23 +75,22 @@
             postTranslate(transX, transY)
         }
 
+        // 2. Dibujar Zonas Interactivas
         if (staticZones.isNotEmpty()) {
             staticZones.forEach { zone ->
                 val baseColor = zone.color
-                val baseRed = Color.red(baseColor)
-                val baseGreen = Color.green(baseColor)
-                val baseBlue = Color.blue(baseColor)
-                val baseAlpha = Color.alpha(baseColor)
+                // Calculamos el alpha basado en el parpadeo
+                val newAlpha = (Color.alpha(baseColor) * blinkingAlpha).toInt().coerceIn(0, 255)
 
-                val newAlpha = (baseAlpha * blinkingAlpha).toInt()
+                zonePaint.color = Color.argb(newAlpha, Color.red(baseColor), Color.green(baseColor), Color.blue(baseColor))
 
-                zonePaint.color = Color.argb(newAlpha, baseRed, baseGreen, baseBlue)
                 val pathCopy = Path(zone.path)
                 pathCopy.transform(drawMatrix)
                 canvas.drawPath(pathCopy, zonePaint)
             }
         }
 
+        // 3. Dibujar Resaltado (Click)
         interactivePath?.let { path ->
             if (highlightColor != Color.TRANSPARENT) {
                 val pathCopy = Path(path)
@@ -87,42 +100,89 @@
             }
         }
 
+        // 4. DIBUJAR PINES (OPTIMIZADO)
         pins.forEach { pin ->
-            val icon = ContextCompat.getDrawable(context, pin.iconId ?: 0) ?: return@forEach
+            val iconId = pin.iconId ?: 0
+            if (iconId == 0) return@forEach
+
+            // A. Obtener de cach√© o cargar UNA VEZ
+            var icon = drawableCache[iconId]
+            if (icon == null) {
+                try {
+                    val loaded = ContextCompat.getDrawable(context, iconId)
+                    if (loaded != null) {
+                        icon = loaded
+                        // Si es animado, le damos el callback para que se mueva
+                        if (icon is Animatable) {
+                            icon.callback = this
+                            icon.start()
+                        }
+                        drawableCache[iconId] = icon
+                    }
+                } catch (e: Exception) {
+                    Log.e(TAG, "Error cargando icono $iconId", e)
+                }
+            }
 
+            if (icon == null) return@forEach
+
+            // B. Configurar Tinte
+            if (pin.pinColor != Color.WHITE) {
+                icon.setTint(pin.pinColor)
+            } else {
+                icon.setTintList(null)
+            }
+
+            // C. Calcular Posici√≥n en Pantalla
             val imageX = pin.x * d.intrinsicWidth
             val imageY = pin.y * d.intrinsicHeight
-
             val screenX = imageX * scaleX + transX
             val screenY = imageY * scaleY + transY
 
+            // D. Calcular Tama√±o basado en DENSIDAD (dp) en lugar de p√≠xeles brutos
+            val pressScale = if (pin.isPressed) 0.85f else 1.0f
+
+            // Usamos 40dp como tama√±o base est√°ndar (ajusta el 40f si lo quieres m√°s grande/peque√±o)
+            val sizeDp = 40f
+            val sizePx = sizeDp * density * pressScale
 
-            val scale = if (pin.isPressed) 0.85f else 1.0f
-            val sizePx = 80f * scale
-            val left = (screenX - sizePx / 2).toInt()
-            val top = (screenY - sizePx).toInt()
-            val right = (screenX + sizePx / 2).toInt()
-            val bottom = (screenY).toInt()
+            val halfSize = sizePx / 2
 
-            icon.setBounds(left, top, right, bottom)
+            // E. DIBUJAR USANDO TRANSFORMACI√ìN DE CANVAS
+            canvas.save()
+            // Movemos el "papel" a la posici√≥n del pin
+            canvas.translate(screenX, screenY)
+
+            // Definimos los l√≠mites centrados en (0,0) local.
+            // El pin se dibuja hacia arri  ba desde el punto (0,0) que es la punta.
+            icon.setBounds((-halfSize).toInt(), (-sizePx).toInt(), (halfSize).toInt(), 0)
+
             icon.draw(canvas)
+            canvas.restore()
+        }
+    }
+
+    // Necesario para que los GIFs se animen
+    override fun verifyDrawable(who: Drawable): Boolean {
+        return super.verifyDrawable(who) || drawableCache.containsValue(who)
+    }
+
+    override fun invalidateDrawable(drawable: Drawable) {
+        if (verifyDrawable(drawable)) {
+            invalidate()
+        } else {
+            super.invalidateDrawable(drawable)
         }
     }
 
     fun setImageFromUrl(url: String) {
         try {
-            // Carga la imagen remota usando Glide (descarga y la muestra en el PhotoView)
-            com.bumptech.glide.Glide.with(context)
-                .asBitmap()
-                .load(url)
-                .into(this)
-        } catch (e: Exception) {
-            e.printStackTrace()
-        }
+            com.bumptech.glide.Glide.with(context).asBitmap().load(url).into(this)
+        } catch (e: Exception) { e.printStackTrace() }
     }
 
     fun getNormalizedImageCoords(screenX: Float, screenY: Float): PointF? {
-        val d = drawable ?: return null // Necesitas un Drawable para obtener sus dimensiones
+        val d = drawable ?: return null
         val matrixValues = FloatArray(9)
         imageMatrix.getValues(matrixValues)
 
@@ -130,56 +190,25 @@
         val transX = matrixValues[Matrix.MTRANS_X]
         val transY = matrixValues[Matrix.MTRANS_Y]
 
-        // 1. Convertir coordenadas de pantalla (X/Y) a coordenadas de imagen escaladas y trasladadas
-        // Coordenada de imagen (p√≠xeles) = (Coordenada de pantalla - Traslaci√≥n) / Escala
-
         val imageX = (screenX - transX) / scaleX
-        val imageY = (screenY - transY) / scaleX // Asumimos scaleY = scaleX
-
-        // 2. Normalizar las coordenadas (0-1) dividiendo por las dimensiones intr√≠nsecas del Drawable
-        // Coordenada normalizada = Coordenada de imagen / Dimensi√≥n intr√≠nseca
+        val imageY = (screenY - transY) / scaleX
 
         val normalizedX = imageX / d.intrinsicWidth
         val normalizedY = imageY / d.intrinsicHeight
 
-        // Log.d("CONVERSION", "Screen($screenX, $screenY) -> Image($imageX, $imageY) -> Norm($normalizedX, $normalizedY)")
-
-        // Peque√±a correcci√≥n de l√≠mites por si acaso
         val finalX = normalizedX.coerceIn(0f, 1f)
         val finalY = normalizedY.coerceIn(0f, 1f)
 
         return PointF(finalX, finalY)
     }
 
-
     fun moveVerticalFree(deltaY: Float) {
-
-        // Esta funci√≥n asume que est√° dentro de una clase que hereda de View (como DebugPhotoView).
-
-        // Si deltaY es positivo (como +120f), la vista se mover√° hacia abajo.
-        // No hay chequeos de l√≠mites, por lo que puede moverse indefinidamente.
-
-        // Aplicar el movimiento directamente a la propiedad de traslaci√≥n de la View.
         this.translationY += deltaY
-
         Log.d("MOVE_FREE", "Desplazamiento aplicado: $deltaY. Nueva translationY: ${this.translationY}")
     }
 
     fun moveHorizontalFree(deltaX: Float) {
-
-        // Esta funci√≥n aplica un desplazamiento horizontal sin l√≠mites.
-
-        // Si deltaX es positivo (+), la vista se mover√° hacia la DERECHA.
-        // Si deltaX es negativo (-), la vista se mover√° hacia la IZQUIERDA.
-
-        // Aplicar el movimiento directamente a la propiedad de traslaci√≥n horizontal de la View.
         this.translationX += deltaX
-
         Log.d("MOVE_FREE_H", "Desplazamiento aplicado: $deltaX. Nueva translationX: ${this.translationX}")
     }
-
-
-
-
-
 }
\ No newline at end of file
Index: app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/EntradaMonasterioFireStoreScreen.kt
===================================================================
diff --git a/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/EntradaMonasterioFireStoreScreen.kt b/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/EntradaMonasterioFireStoreScreen.kt
deleted file mode 100644
--- a/app/src/main/java/com/nextapp/monasterio/ui/virtualvisit/screens/EntradaMonasterioFireStoreScreen.kt	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
+++ /dev/null	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
@@ -1,35 +0,0 @@
-package com.nextapp.monasterio.ui.virtualvisit.screens
-
-import androidx.compose.foundation.layout.*
-import androidx.compose.material3.*
-import androidx.compose.runtime.*
-import androidx.compose.ui.Alignment
-import androidx.compose.ui.Modifier
-import androidx.navigation.NavHostController // <-- ¬°IMPORT A√ëADIDO!
-import com.nextapp.monasterio.models.PinData
-import com.nextapp.monasterio.ui.screens.EntradaMonasterioScreen
-
-@Composable
-fun EntradaMonasterioFirestoreScreen(
-    pinId: String,
-    navController: NavHostController,
-    rootNavController: NavHostController?
-) {
-    val (pin, setPin) = remember { mutableStateOf<PinData?>(null) }
-
-    LaunchedEffect(pinId) {
-        val loadedPin = com.nextapp.monasterio.repository.PinRepository.getPinById(pinId)
-        setPin(loadedPin)
-    }
-
-    if (pin != null) {
-        EntradaMonasterioScreen(
-            pin = pin!!,
-            onBack = { navController.popBackStack() }
-        )
-    } else {
-        Box(modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center) {
-            CircularProgressIndicator()
-        }
-    }
-}
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <string name=\"app_name\">Santa Mar√≠a la Real de Huelgas</string>\r\n    <string name=\"title_inicio\">Inicio</string>\r\n    <string name=\"virtual_visit\">VISITA VIRTUAL</string>\r\n    <string name=\"book_appointment\">RESERVAR CITA</string>\r\n    <string name=\"monastery_name\">Santa Mar√≠a\\nla Real de Huelgas</string>\r\n    <string name=\"edit_mode_activate_icon\">Modo edici√≥n</string>\r\n    <string name=\"edit_mode_deactivate_icon\">Salir del modo edici√≥n</string>\r\n    <string name=\"edit_mode_activate_message\">Modo edici√≥n activado</string>\r\n    <string name=\"edit_mode_deactivate_message\">Modo edici√≥n desactivado</string>\r\n    <string name=\"edit_save_changes\">Guardar cambios</string>\r\n    <string name=\"profile_login\">Iniciar Sesi√≥n</string>\r\n    <string name=\"profile_logout\">Cerrar Sesi√≥n</string>\r\n    <string name=\"profile_email\">Correo Electr√≥nico</string>\r\n    <string name=\"profile_password\">Contrase√±a</string>\r\n    <string name=\"navigation_drawer_open\">Abrir men√∫</string>\r\n    <string name=\"navigation_drawer_close\">Cerrar men√∫</string>\r\n    <string name=\"menu_info\">Informaci√≥n del monasterio</string>\r\n    <string name=\"menu_history\">Historia</string>\r\n    <string name=\"menu_gallery\">Galer√≠a</string>\r\n    <string name=\"menu_profile\">Perfil</string>\r\n    <string name=\"menu_settings\">Ajustes</string>\r\n    <string name=\"title_info_general\">Informaci√≥n General</string>\r\n    <string name=\"title_history\">Historia</string>\r\n    <string name=\"title_gallery\">Galer√≠a</string>\r\n    <string name=\"title_profile\">Perfil</string>\r\n    <string name=\"title_settings\">Ajustes</string>\r\n    <string name=\"info_location\">Calle‚Ä¶</string>\r\n    <string name=\"info_hours\">Lunes-Viernes: XX:XX - YY:YY</string>\r\n    <string name=\"general_info\">Informaci√≥n general:</string>\r\n    <string name=\"history_1328\">1328 Incendio y reconstrucci√≥n</string>\r\n    <string name=\"history_1328_body\">Durante un incendio en Valladolid provocado por las tropas de Alfonso XI el monasterio de los palacios de la Magdalena result√≥ muy da√±ado. Las monjas comenzaron su reconstrucci√≥n gracias a la ayuda econ√≥mica de √Ålvaro Nu√±o P√©rez de Monroy.</string>\r\n    <string name=\"history_1579\">1579 Reconstrucci√≥n de la iglesia y el claustro</string>\r\n    <string name=\"history_579_body\">Las monjas construyeron la iglesia seg√∫n los planos del maestro italiano Pietro Palladio. El retablo fue obra de Gregorio Fern√°ndez y el nuevo claustro de Francisco de Praves. Todo ello fue posible gracias a las donaciones de las abadesas Ana e Isabel de Mendoza.</string>\r\n    <string name=\"history_1869\">1869 Nacimiento de la escuela del monasterio</string>\r\n    <string name=\"history_1869_body\">La comunidad de Huelgas Reales abri√≥ su propia escuela, acogiendo a j√≥venes nobles de Valladolid como alumnas externas.</string>\r\n    <string name=\"history_XX\">Siglos XX-XXI Restauraci√≥n y vida moderna</string>\r\n    <string name=\"history_XX_body\">El monasterio fue restaurado en su totalidad. La disminuci√≥n de vocaciones llev√≥ a la creaci√≥n de la Fraternidad Laica Cisterciense, que mantiene vivo el esp√≠ritu de la Regla de San Benito.</string>\r\n    <string name=\"history_2007\">2007 y m√°s all√° Direcci√≥n y Congregaci√≥n femenina</string>\r\n    <string name=\"history_2007_body\">El monasterio forma parte de la Congregaci√≥n de Castilla de la Orden Cisterciense, activa como congregaci√≥n femenina desde 2007. La primera abadesa presidenta fue Mar√≠a del Mar Mart√≠nez; tras su fallecimiento en 2013, tom√≥ el relevo Sor Isabel Vall√©s Gallego. Actualmente Sor Mar√≠a dirige el monasterio y la escuela.</string>\r\n    <string name=\"title_appointment\">Reservar Cita</string>\r\n    <string name=\"option_phone_appointment\">Reservar por tel√©fono</string>\r\n    <string name=\"option_online_appointment\">Reservar online</string>\r\n    <string name=\"name_appointment\">Nombre y apellidos</string>\r\n    <string name=\"email_appointment\">Correo Electr√≥nico</string>\r\n    <string name=\"date_appointment\">Fecha</string>\r\n    <string name=\"hour_appointment\">Hora</string>\r\n    <string name=\"placeholdername_appointment\">Introduce tu nombre y apellidos</string>\r\n    <string name=\"placeholderemail_appointment\">Introduce tu correo electr√≥nico</string>\r\n    <string name=\"placeholderdate_appointment\">Selecciona una fecha</string>\r\n    <string name=\"placeholderhour_appointment\">Selecciona una hora</string>\r\n    <string name=\"compulsory_name\">El nombre es obligatorio</string>\r\n    <string name=\"valid_name\">El nombre contiene un s√≠mbolo no v√°lido</string>\r\n    <string name=\"compulsory_email\">El email es obligatorio</string>\r\n    <string name=\"valid_email\">El formato del email no es v√°lido</string>\r\n    <string name=\"date_no_selected\">Una fecha debe ser seleccionada</string>\r\n    <string name=\"hour_no_selected\">Una hora debe ser seleccionada</string>\r\n    <string name=\"datepicker_ok\">Ok</string>\r\n    <string name=\"datepicker_cancel\">Cancelar</string>\r\n    <string name=\"confirm_button\">CONFIRMAR</string>\r\n    <string name=\"contentimage_confirmation\">Confirmado</string>\r\n    <string name=\"confirmation_appointment\">¬°CASI TERMINADO!</string>\r\n    <string name=\"details_appointment\">Tu solicitud de reserva est√° lista. Pulsa enviar en la aplicaci√≥n de mensajer√≠a que se acaba de abrir para finalizar tu solicitud. Te responderemos a ese email para confirmarte la disponibilidad.</string>\r\n    <string name=\"email_subject\">Solicitud de Reserva de Visita - %1$s</string>\r\n    <string name=\"email_message\">Hola,\\n\\nMe gustar√≠a solicitar una reserva para una visita al monasterio con los siguientes detalles:\\n\\n* Nombre: %1$s\\n* Email: %2$s\\n* Fecha de la visita: %3$s\\n* Hora de la visita: %4$s\\n\\nEspero su amable confirmaci√≥n.\\n\\nMuchas gracias,\\nAtentamente,\\n\\n%1$s</string>\r\n    <string name=\"email_error\">No se ha encontrado ninguna aplicaci√≥n de mensajer√≠a</string>\r\n    <string name=\"history_content_placeholder\">Mauris vel nisi id metus vestibulum vehicula nec ac orci. Curabitur massa diam, fermentum sit amet augue sit, volutpat efficitur enim. Phasellus a cursus orci, id laoreet dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</string>\r\n    <string name=\"language_select\">Seleccionar idioma</string>\r\n    <string name=\"font_size_select\">Selecciona el tama√±o de la fuente</string>\r\n    <string name=\"font_extrabig\">Extra Grande</string>\r\n    <string name=\"font_normal\">Media</string>\r\n    <string name=\"font_big\">Grande</string>\r\n    <string name=\"title_monasterio\">Monasterio</string>\r\n    <string name=\"title_entrada\">Entrada del Monasterio</string>\r\n    <string name=\"spanish_language\">Espa√±ol</string>\r\n    <string name=\"german_language\">Alem√°n</string>\r\n    <string name=\"lang_fr\">Franc√©s</string>\r\n    <string name=\"english_language\">Ingl√©s</string>\r\n    <string name=\"navegation_button\">Ocultar botones de navegaci√≥n</string>\r\n    <string name=\"close\">Cerrar</string>\r\n    <string name=\"go_back\">Volver</string>\r\n    <string name=\"see_360\">Ver 360¬∫</string>\r\n    <string name=\"contentdescription_image_pin\">Imagen del pin (hacer clic para ampliar)</string>\r\n    <string name=\"readjust\">Reajustar</string>\r\n    <string name=\"decrease\">Disminuir</string>\r\n    <string name=\"increase\">Aumentar</string>\r\n    <string name=\"out_interactive_area\">Fuera de zona interactiva</string>\r\n    <string name=\"notdefined_destiny\">Destino no definido</string>\r\n    <string name=\"notdefined_destinyplane\">Plano de destino no definido</string>\r\n    <string name=\"plane_loading\">Cargando plano‚Ä¶</string>\r\n    <string name=\"error_loading_plane\">Error al cargar los datos del plano</string>\r\n    <string name=\"child_mode\">MODO NI√ëOS</string>\r\n    <string name=\"child_mode_view\">Modo Ni√±os</string>\r\n    <string name=\"video_view\">V√≠deo</string>\r\n    <string name=\"game_view\">Juegos</string>\r\n    <string name=\"video_child\">V√çDEO</string>\r\n    <string name=\"game_child\">JUEGOS</string>\r\n    <string name=\"edit_mode\">MODO EDICI√ìN</string>\r\n    <string name=\"edit_home_background\">Edici√≥n fondo de pantalla de inicio</string>\r\n    <string name=\"edit_pins\">Edici√≥n de pines</string>\r\n    <string name=\"location_error\">No se ha encontrado ninguna aplicaci√≥n para abrir la ubicaci√≥n.</string>\r\n    <string name=\"contact_data\">Datos de contacto</string>\r\n    <string name=\"location_data\">Ubicaci√≥n</string>\r\n    <string name=\"email_data\">Correo Electr√≥nico</string>\r\n    <string name=\"phone_data\">Tel√©fono</string>\r\n    <string name=\"visit_schedule\">Horarios de Visita</string>\r\n    <string name=\"monday_to_friday\">De Lunes a Viernes:</string>\r\n    <string name=\"four_pieces\">4 piezas</string>\r\n    <string name=\"nine_pieces\">9 piezas</string>\r\n    <string name=\"sixteen_pieces\">16 piezas</string>\r\n    <string name=\"twentyfive_pieces\">25 piezas</string>\r\n    <string name=\"three_pairs\">3 Parejas</string>\r\n    <string name=\"four_pairs\">4 Parejas</string>\r\n    <string name=\"five_pairs\">5 Parejas</string>\r\n    <string name=\"six_pairs\">6 Parejas</string>\r\n    <string name=\"dont_show_again\">No volver a mostrar</string>\r\n    <string name=\"understand\">Entendido</string>\r\n    <string name=\"map_tutorial_body\">Este es el cuerpo del tutorial</string>\r\n    <string name=\"map_tutorial_title\">Este es el t√≠tulo del tutorial</string>\r\n    <string name=\"map_tutorial_body2\">Este es el cuerpo del tutorial del mapa 2</string>\r\n    <string name=\"map_tutorial_title2\">Este es el t√≠tulo del tutorial del mapa 2</string>\r\n    <string name=\"pin_tutorial_body\">Este es el cuerpo del tutorial de la pin</string>\r\n    <string name=\"pine_tutorial_title\">Este es el t√≠tulo del tutorial de la pin</string>\r\n    <string name=\"next\">Siguiente</string>\r\n    <string name=\"map_tutorial_body1\">Arriba a la izquierda, el s√≠mbolo (‚Üê) permite volver al principio</string>\r\n    <string name=\"map_tutorial_body1_2\">Tocando las zonas de color del mapa, podemos acceder a las distintas partes visualizables</string>\r\n    <string name=\"map_tutorial_body1_3\">Adem√°s, los botones de la derecha te permiten acercar, alejar o volver al tama√±o original del mapa</string>\r\n    <string name=\"submapa_1\">Tocando el s√≠mbolo (‚Üê), podemos volver al mapa general</string>\r\n    <string name=\"submapa_2\">Tocando las diferentes chinchetas, podemos acceder a los puntos de inter√©s</string>\r\n    <string name=\"pin_1\">Pulsando el s√≠mbolo (‚Üê), puedes volver al mapa</string>\r\n    <string name=\"pin_2\">Puedes deslizar las im√°genes o hacer clic en ellas para ampliarlas</string>\r\n    <string name=\"pin_3\">Pulsando aqu√≠, puedes escuchar el audio del texto</string>\r\n    <string name=\"pin_4\">Para acceder a la vista 360, pulsa este bot√≥n</string>\r\n    <string name=\"confirm_save_title\">¬øGuardar cambios?</string>\r\n    <string name=\"confirm_save_message\">¬øEst√°s seguro de querer guardar los cambios realizados?</string>\r\n    <string name=\"confirm_save_button\">Guardar</string>\r\n    <string name=\"confirm_cancel_button\">Cancelar</string>\r\n    <string name=\"edit_cancel_changes\">Cancelar</string>\r\n    <string name=\"profile_name\">Nombre</string>\r\n    <string name=\"image_add\">A√±adir imagen</string>\r\n    <string name=\"image_delete\">Eliminar</string>\r\n    <string name=\"image_delete_confirm_title\">¬øEliminar imagen?</string>\r\n    <string name=\"image_delete_confirm_message\">¬øEst√°s seguro de querer eliminar la imagen?</string>\r\n    <string name=\"image_uploading\">Subiendo imagen...</string>\r\n    <string name=\"image_upload_success\">Imagen subida con √©xito</string>\r\n    <string name=\"image_upload_error\">Error al subir imagen</string>\r\n    <string name=\"image_select_error\">Error al cargar la imagen</string>\r\n    <string name=\"congratulations\">¬°Felicidades!</string>\r\n    <string name=\"message_game_completed\">¬°Has resuelto el juego! ¬øListo para el siguiente desaf√≠o?</string>\r\n    <string name=\"ready\">Listo</string>\r\n    <string name=\"original_image\">Ver imagen</string>\r\n    <string name=\"image_gallery_title\">Im√°genes</string>\r\n    <string name=\"visible\">Visibles</string>\r\n    <string name=\"hidden\">Ocultos</string>\r\n    <string name=\"lang_en\">Ingl√©s</string>\r\n    <string name=\"lang_es\">Espa√±ol</string>\r\n    <string name=\"sample_text\">Ejemplo</string>\r\n    <string name=\"lang_de\">Alem√°n</string>\r\n    <string name=\"font_small\">Peque√±a</string>\r\n    <string name=\"font_medium\">Media</string>\r\n    <string name=\"font_large\">Grande</string>\r\n    <string name=\"puzzle_screen\">Puzzle</string>\r\n    <string name=\"puzzle_option\">PUZZLE</string>\r\n    <string name=\"memory_screen\">Parejas</string>\r\n    <string name=\"memory_option\">PAREJAS</string>\r\n    <string name=\"differences_game\">DIFERENCIAS</string>\r\n    <string name=\"differences_screen\">Diferencias</string>\r\n    <string name=\"title_instructions\">¬°Hola, super jugador!</string>\r\n    <string name=\"text_instructions_puzzle\">¬øEst√°s listo para armar este incre√≠ble puzzle?\\n\\nPara jugar, es muy f√°cil:\\n\\u2022 Elige una pieza en la parte inferior de la pantalla y mant√©n pulsada durante unos segundos.\\n\\u2022 ¬°Magia! Esta pieza ahora flotar√° y podr√°s moverla con el dedo.\\n\\u2022 Arrastra la pieza al lugar del tablero donde creas que va.\\n\\u2022 Si la colocas en el lugar correcto, encajar√° y se quedar√° fija. Si no es el lugar correcto, volver√° a la caja.\\n¬°No te rindas hasta completar el puzzle!\\n¬°Buena suerte!</string>\r\n    <string name=\"text_instructions_spot_the_difference\">¬øEst√°s listo para encontrar las diferencias ocultas?\\n\\nPara jugar, es muy f√°cil:\\n\\u2022 Mira atentamente las dos im√°genes que parecen id√©nticas.\\n\\u2022 Busca los detalles que han cambiado o que faltan en la imagen de abajo.\\n\\u2022 Toca la zona de la imagen donde has encontrado una diferencia.\\n\\u2022 ¬°Genial! Si aciertas, la diferencia se marcar√°.\\n¬°Solo hay 5! No te rindas hasta encontrarlas todas.\\n¬°Buena suerte!</string>\r\n    <string name=\"text_instructions_pairs\">¬øEst√°s listo para encontrar todos las parejas?\\n\\nInstrucciones:\\n\\u2022Mira atentamente las im√°genes antes de que se oculten y encuentra todos los parejas.\\n\\u2022 Toca los cuadrados para revelar la imagen oculta hasta que encuentres dos parejas id√©nticos.\\n\\u2022Contin√∫a hasta encontrar todos los parejas.\\n¬°Divi√©rtete y pon a prueba tu memoria!</string>\r\n    <string name=\"differences_counter\">Diferencias encontradas: %1$d / %2$d</string>\r\n    <string name=\"back_piece\">Parte trasera de la pieza</string>\r\n    <string name=\"left_pairs\">Parejas restantes: %1$s</string>\r\n    <string name=\"left_pieces\">Piezas restantes: %1$s</string>\r\n    <string name=\"background_edit_screen\">EDITAR FONDO</string>\r\n    <string name=\"pin_edit_screen\">EDITAR PIN</string>\r\n    <string name=\"gallery_type_all\">Todos</string>\r\n    <string name=\"gallery_type_painting\">Pinturas</string>\r\n    <string name=\"gallery_type_sculpture\">Esculturas</string>\r\n    <string name=\"gallery_type_architecture\">Arquitectura</string>\r\n    <string name=\"gallery_type_other\">Otros</string>\r\n    <string name=\"general_information_figure\">Informaci√≥n General:</string>\r\n    <string name=\"error_figure\">Error: No se encontr√≥ la figura con ID %1$d</string>\r\n    <string name=\"play_audio\"></string>\r\n    <string name=\"error_connection_title\">¬°Vaya! Ha ocurrido un error</string>\r\n    <string name=\"error_connection_desc\">No hemos podido cargar el mapa. Por favor, comprueba tu conexi√≥n a internet y vuelve a intentarlo.</string>\r\n    <string name=\"retry\">Reintentar</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
+++ b/app/src/main/res/values/strings.xml	(date 1765025263123)
@@ -74,9 +74,9 @@
     <string name="title_monasterio">Monasterio</string>
     <string name="title_entrada">Entrada del Monasterio</string>
     <string name="spanish_language">Espa√±ol</string>
-    <string name="german_language">Alem√°n</string>
-    <string name="lang_fr">Franc√©s</string>
-    <string name="english_language">Ingl√©s</string>
+    <string name="german_language">Deutsch</string>
+    <string name="lang_fr">Fran√ßais</string>
+    <string name="english_language">English</string>
     <string name="navegation_button">Ocultar botones de navegaci√≥n</string>
     <string name="close">Cerrar</string>
     <string name="go_back">Volver</string>
Index: app/src/main/res/values-fr/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <string name=\"app_name\">Santa Mar√≠a la Real de Huelgas</string>\r\n    <string name=\"title_inicio\">Accueil</string>\r\n    <string name=\"virtual_visit\">VISITE VIRTUELLE</string>\r\n    <string name=\"book_appointment\">R√âSERVER UN RENDEZ-VOUS</string>\r\n    <string name=\"monastery_name\">Santa Mar√≠a\\nla Real de Huelgas</string>\r\n    <string name=\"edit_mode_activate_icon\">Mode d\\'√©dition</string>\r\n    <string name=\"edit_mode_deactivate_icon\">Quitter le mode d\\'√©dition</string>\r\n    <string name=\"edit_mode_activate_message\">Mode d\\'√©dition activ√©</string>\r\n    <string name=\"edit_mode_deactivate_message\">Mode d\\'√©dition d√©sactiv√©</string>\r\n    <string name=\"edit_save_changes\">Sauvegarder les changements</string>\r\n    <string name=\"profile_login\">Se Connecter</string>\r\n    <string name=\"profile_logout\">Se D√©connecter</string>\r\n    <string name=\"profile_email\">Courriel</string>\r\n    <string name=\"profile_password\">Mot de passe</string>\r\n    <string name=\"navigation_drawer_open\">Ouvrir le menu</string>\r\n    <string name=\"navigation_drawer_close\">Fermer le menu</string>\r\n    <string name=\"menu_info\">Informations sur le monast√®re</string>\r\n    <string name=\"menu_history\">Histoire</string>\r\n    <string name=\"menu_gallery\">Galerie</string>\r\n    <string name=\"menu_profile\">Profil</string>\r\n    <string name=\"menu_settings\">Param√®tres</string>\r\n    <string name=\"title_info_general\">Informations G√©n√©rales</string>\r\n    <string name=\"title_history\">Histoire</string>\r\n    <string name=\"title_gallery\">Galerie</string>\r\n    <string name=\"title_profile\">Profil</string>\r\n    <string name=\"title_settings\">Param√®tres</string>\r\n    <string name=\"info_location\">Rue‚Ä¶</string>\r\n    <string name=\"info_hours\">Lundi-Vendredi : XX:XX - YY:YY</string>\r\n    <string name=\"general_info\">Informations g√©n√©rales :</string>\r\n    <string name=\"history_1328\">1328 Incendie et reconstruction</string>\r\n    <string name=\"history_1328_body\">Lors d\\'un incendie √† Valladolid provoqu√© par les troupes d\\'Alfonso XI, le monast√®re des palais de la Magdalena fut gravement endommag√©. Les moniales commenc√®rent sa reconstruction gr√¢ce √† l\\'aide financi√®re d\\'√Ålvaro Nu√±o P√©rez de Monroy.</string>\r\n    <string name=\"history_1579\">1579 Reconstruction de l\\'√©glise et du clo√Ætre</string>\r\n    <string name=\"history_579_body\">Les moniales ont construit l\\'√©glise selon les plans du ma√Ætre italien Pietro Palladio. Le retable fut l\\'≈ìuvre de Gregorio Fern√°ndez et le nouveau clo√Ætre, de Francisco de Praves. Tout cela fut rendu possible gr√¢ce aux dons des abbesses Ana et Isabel de Mendoza.</string>\r\n    <string name=\"history_1869\">1869 Naissance de l\\'√©cole du monast√®re</string>\r\n    <string name=\"history_1869_body\">La communaut√© de Huelgas Reales a ouvert sa propre √©cole, accueillant des jeunes filles de la noblesse de Valladolid comme demi-pensionnaires.</string>\r\n    <string name=\"history_XX\">XXe-XXIe si√®cles Restauration et vie moderne</string>\r\n    <string name=\"history_XX_body\">Le monast√®re a √©t√© enti√®rement restaur√©. La diminution des vocations a conduit √† la cr√©ation de la Fraternit√© La√Øque Cistercienne, qui maintient vivant l\\'esprit de la R√®gle de Saint Beno√Æt.</string>\r\n    <string name=\"history_2007\">2007 et au-del√† Direction et Congr√©gation f√©minine</string>\r\n    <string name=\"history_2007_body\">Le monast√®re fait partie de la Congr√©gation de Castille de l\\'Ordre Cistercien, active en tant que congr√©gation f√©minine depuis 2007. La premi√®re abbesse pr√©sidente fut Mar√≠a del Mar Mart√≠nez ; apr√®s son d√©c√®s en 2013, S≈ìur Isabel Vall√©s Gallego a pris la rel√®ve. Actuellement, S≈ìur Mar√≠a dirige le monast√®re et l\\'√©cole.</string>\r\n    <string name=\"title_appointment\">R√©server un Rendez-vous</string>\r\n    <string name=\"option_phone_appointment\">R√©server par t√©l√©phone</string>\r\n    <string name=\"option_online_appointment\">R√©server en ligne</string>\r\n    <string name=\"name_appointment\">Nom et pr√©nom</string>\r\n    <string name=\"email_appointment\">Courriel</string>\r\n    <string name=\"date_appointment\">Date</string>\r\n    <string name=\"hour_appointment\">Heure</string>\r\n    <string name=\"placeholdername_appointment\">Entrez votre nom et pr√©nom</string>\r\n    <string name=\"placeholderemail_appointment\">Entrez votre courriel</string>\r\n    <string name=\"placeholderdate_appointment\">S√©lectionnez une date</string>\r\n    <string name=\"placeholderhour_appointment\">S√©lectionnez une heure</string>\r\n    <string name=\"compulsory_name\">Le nom est obligatoire</string>\r\n    <string name=\"valid_name\">Le nom contient un symbole non valide</string>\r\n    <string name=\"compulsory_email\">L\\'e-mail est obligatoire</string>\r\n    <string name=\"valid_email\">Le format de l\\'e-mail n\\'est pas valide</string>\r\n    <string name=\"date_no_selected\">Une date doit √™tre s√©lectionn√©e</string>\r\n    <string name=\"hour_no_selected\">Une heure doit √™tre s√©lectionn√©e</string>\r\n    <string name=\"datepicker_ok\">Ok</string>\r\n    <string name=\"datepicker_cancel\">Annuler</string>\r\n    <string name=\"confirm_button\">CONFIRMER</string>\r\n    <string name=\"contentimage_confirmation\">Confirm√©</string>\r\n    <string name=\"confirmation_appointment\">PRESQUE TERMIN√â !</string>\r\n    <string name=\"details_appointment\">Votre demande de r√©servation est pr√™te. Veuillez appuyer sur envoyer dans l\\'application de messagerie qui vient de s\\'ouvrir pour finaliser votre demande. Nous vous r√©pondrons √† cet e-mail pour confirmer la disponibilit√©.</string>\r\n    <string name=\"email_subject\">Demande de R√©servation de Visite - %1$s</string>\r\n    <string name=\"email_message\">Bonjour,\\n\\nJe souhaite demander une r√©servation pour une visite au monast√®re avec les d√©tails suivants :\\n\\n* Nom : %1$s\\n* E-mail : %2$s\\n* Date de la visite : %3$s\\n* Heure de la visite : %4$s\\n\\nJ\\'attends votre aimable confirmation.\\n\\nMerci beaucoup,\\nCordialement,\\n\\n%1$s</string>\r\n    <string name=\"email_error\">Aucune application de messagerie n\\'a √©t√© trouv√©e</string>\r\n    <string name=\"history_content_placeholder\">Mauris vel nisi id metus vestibulum vehicula nec ac orci. Curabitur massa diam, fermentum sit amet augue sit, volutpat efficitur enim. Phasellus a cursus orci, id laoreet dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</string>\r\n    <string name=\"language_select\">S√©lectionner la langue</string>\r\n    <string name=\"font_size_select\">S√©lectionnez la taille de la police</string>\r\n    <string name=\"font_extrabig\">Extra Large</string>\r\n    <string name=\"font_normal\">Moyenne</string>\r\n    <string name=\"font_big\">Grande</string>\r\n    <string name=\"title_monasterio\">Monast√®re</string>\r\n    <string name=\"title_entrada\">Entr√©e du Monast√®re</string>\r\n    <string name=\"spanish_language\">Espagnol</string>\r\n    <string name=\"german_language\">Allemand</string>\r\n    <string name=\"lang_fr\">Fran√ßais</string>\r\n    <string name=\"english_language\">Anglais</string>\r\n    <string name=\"navegation_button\">Masquer les boutons de navigation</string>\r\n    <string name=\"close\">Fermer</string>\r\n    <string name=\"go_back\">Retourner</string>\r\n    <string name=\"see_360\">Voir 360¬∫</string>\r\n    <string name=\"contentdescription_image_pin\">Image de la punaise (cliquer pour agrandir)</string>\r\n    <string name=\"readjust\">R√©ajuster</string>\r\n    <string name=\"decrease\">Diminuer</string>\r\n    <string name=\"increase\">Augmenter</string>\r\n    <string name=\"out_interactive_area\">Hors zone interactive</string>\r\n    <string name=\"notdefined_destiny\">Destination non d√©finie</string>\r\n    <string name=\"notdefined_destinyplane\">Plan de destination non d√©fini</string>\r\n    <string name=\"plane_loading\">Chargement du plan‚Ä¶</string>\r\n    <string name=\"error_loading_plane\">Erreur de chargement des donn√©es du plan</string>\r\n    <string name=\"child_mode\">MODE ENFANTS</string>\r\n    <string name=\"child_mode_view\">Mode Enfants</string>\r\n    <string name=\"video_view\">Vid√©o</string>\r\n    <string name=\"game_view\">Jeux</string>\r\n    <string name=\"video_child\">VID√âO</string>\r\n    <string name=\"game_child\">JEUX</string>\r\n    <string name=\"edit_mode\">MODE D\\'√âDITION</string>\r\n    <string name=\"edit_home_background\">√âdition fond d\\'√©cran d\\'accueil</string>\r\n    <string name=\"edit_pins\">√âdition des punaises</string>\r\n    <string name=\"location_error\">Aucune application n\\'a √©t√© trouv√©e pour ouvrir la localisation.</string>\r\n    <string name=\"contact_data\">Coordonn√©es</string>\r\n    <string name=\"location_data\">Localisation</string>\r\n    <string name=\"email_data\">Courriel</string>\r\n    <string name=\"phone_data\">T√©l√©phone</string>\r\n    <string name=\"visit_schedule\">Horaires de Visite</string>\r\n    <string name=\"monday_to_friday\">Du Lundi au Vendredi :</string>\r\n    <string name=\"four_pieces\">4 pi√®ces</string>\r\n    <string name=\"nine_pieces\">9 pi√®ces</string>\r\n    <string name=\"sixteen_pieces\">16 pi√®ces</string>\r\n    <string name=\"twentyfive_pieces\">25 pi√®ces</string>\r\n    <string name=\"three_pairs\">3 Paires</string>\r\n    <string name=\"four_pairs\">4 Paires</string>\r\n    <string name=\"five_pairs\">5 Paires</string>\r\n    <string name=\"six_pairs\">6 Paires</string>\r\n    <string name=\"dont_show_again\">Ne plus afficher</string>\r\n    <string name=\"understand\">Compris</string>\r\n    <string name=\"map_tutorial_body\">Ceci est le corps du tutoriel</string>\r\n    <string name=\"map_tutorial_title\">Ceci est le titre du tutoriel</string>\r\n    <string name=\"map_tutorial_body2\">Ceci est le corps du tutoriel de la carte 2</string>\r\n    <string name=\"map_tutorial_title2\">Ceci est le titre du tutoriel de la carte 2</string>\r\n    <string name=\"pin_tutorial_body\">Ceci est le corps du tutoriel de la punaise</string>\r\n    <string name=\"pine_tutorial_title\">Ceci est le titre du tutoriel de la punaise</string>\r\n    <string name=\"next\">Suivant</string>\r\n    <string name=\"map_tutorial_body1\">En haut √† gauche, le symbole (‚Üê) permet de revenir au d√©but</string>\r\n    <string name=\"map_tutorial_body1_2\">En touchant les zones color√©es de la carte, nous pouvons acc√©der aux diff√©rentes parties visualisables</string>\r\n    <string name=\"map_tutorial_body1_3\">De plus, les boutons de droite vous permettent d\\'agrandir, de r√©duire ou de revenir √† la taille originale de la carte</string>\r\n    <string name=\"submapa_1\">En touchant le symbole (‚Üê), nous pouvons revenir √† la carte g√©n√©rale</string>\r\n    <string name=\"submapa_2\">En touchant les diff√©rentes punaises, nous pouvons acc√©der aux points d\\'int√©r√™t</string>\r\n    <string name=\"pin_1\">En appuyant sur le symbole (‚Üê), vous pouvez revenir √† la carte</string>\r\n    <string name=\"pin_2\">Vous pouvez faire d√©filer les images ou cliquer dessus pour les agrandir</string>\r\n    <string name=\"pin_3\">En cliquant ici, vous pouvez √©couter l\\'audio du texte</string>\r\n    <string name=\"pin_4\">Pour acc√©der √† la vue 360, appuyez sur ce bouton</string>\r\n    <string name=\"confirm_save_title\">Sauvegarder les changements ?</string>\r\n    <string name=\"confirm_save_message\">√ätes-vous s√ªr de vouloir sauvegarder les changements effectu√©s ?</string>\r\n    <string name=\"confirm_save_button\">Sauvegarder</string>\r\n    <string name=\"confirm_cancel_button\">Annuler</string>\r\n    <string name=\"edit_cancel_changes\">Annuler</string>\r\n    <string name=\"profile_name\">Nom</string>\r\n    <string name=\"image_add\">Ajouter une image</string>\r\n    <string name=\"image_delete\">Supprimer</string>\r\n    <string name=\"image_delete_confirm_title\">Supprimer l\\'image ?</string>\r\n    <string name=\"image_delete_confirm_message\">√ätes-vous s√ªr de vouloir supprimer l\\'image ?</string>\r\n    <string name=\"image_uploading\">T√©l√©chargement de l\\'image...</string>\r\n    <string name=\"image_upload_success\">Image t√©l√©charg√©e avec succ√®s</string>\r\n    <string name=\"image_upload_error\">Erreur lors du t√©l√©chargement de l\\'image</string>\r\n    <string name=\"image_select_error\">Erreur lors du chargement de l\\'image</string>\r\n    <string name=\"congratulations\">F√©licitations !</string>\r\n    <string name=\"message_game_completed\">Vous avez r√©solu le jeu ! Pr√™t pour le prochain d√©fi ?</string>\r\n    <string name=\"ready\">Pr√™t</string>\r\n    <string name=\"original_image\">Voir l\\'image</string>\r\n    <string name=\"image_gallery_title\">Images</string>\r\n    <string name=\"visible\">Visibles</string>\r\n    <string name=\"hidden\">Masqu√©s</string>\r\n    <string name=\"lang_en\">English</string>\r\n    <string name=\"lang_es\">Espa√±ol</string>\r\n    <string name=\"sample_text\">Exemple</string>\r\n    <string name=\"lang_de\">Deutsch</string>\r\n    <string name=\"font_small\">Petite</string>\r\n    <string name=\"font_medium\">Moyenne</string>\r\n    <string name=\"font_large\">Grande</string>\r\n    <string name=\"puzzle_screen\">Puzzle</string>\r\n    <string name=\"puzzle_option\">PUZZLE</string>\r\n    <string name=\"memory_screen\">Paires</string>\r\n    <string name=\"memory_option\">PAIRES</string>\r\n    <string name=\"differences_game\">DIFF√âRENCES</string>\r\n    <string name=\"differences_screen\">Diff√©rences</string>\r\n    <string name=\"title_instructions\">Salut, super joueur !</string>\r\n    <string name=\"text_instructions_puzzle\">Es-tu pr√™t √† assembler cet incroyable puzzle ?\\n\\nPour jouer, c\\'est tr√®s facile :\\n\\u2022 Choisis une pi√®ce en bas de l\\'√©cran et maintiens la pression dessus pendant quelques secondes.\\n\\u2022 Magie ! Cette pi√®ce va maintenant flotter et tu pourras la d√©placer avec ton doigt.\\n\\u2022 Fais glisser la pi√®ce √† l\\'endroit du plateau o√π tu penses qu\\'elle va.\\n\\u2022 Si tu la mets au bon endroit, elle s\\'embo√Ætera et restera fix√©e ! Si ce n\\'est pas le bon endroit, elle retournera √† la bo√Æte.\\nN\\'abandonne pas tant que le puzzle n\\'est pas termin√© !\\nBonne chance !</string>\r\n    <string name=\"text_instructions_spot_the_difference\">Es-tu pr√™t √† trouver les diff√©rences cach√©es ?\\n\\nC\\'est facile :\\n\\u2022 Regardez attentivement les deux images qui semblent identiques.\\n\\u2022 Cherchez les d√©tails qui ont chang√© ou qui sont manquants dans l\\'image du dessous.\\n\\u2022 Touchez la zone de l\\'image o√π vous avez trouv√© une diff√©rence.\\n\\u2022 Bravo ! Si vous avez trouv√© la bonne diff√©rence, elle sera mise en √©vidence.\\nIl n\\'y en a que 5 ! Ne vous arr√™tez pas avant de les avoir toutes trouv√©es.\\nBonne chance !</string>\r\n    <string name=\"text_instructions_pairs\">Es-tu pr√™t √† trouver toutes les paires ?\\n\\nInstructions :\\n\\u2022 Regarde attentivement les images avant qu\\'elles ne soient cach√©es et trouve toutes les paires.\\n\\u2022 Touche les carr√©s pour r√©v√©ler l\\'image cach√©e jusqu\\'√† trouver deux paires identiques.\\n\\u2022 Continue jusqu\\'√† trouver toutes les paires.\\nAmuse-toi bien et teste ta m√©moire !</string>\r\n    <string name=\"differences_counter\">Diff√©rences trouv√©es : %1$d / %2$d</string>\r\n    <string name=\"back_piece\">Dos de la pi√®ce</string>\r\n    <string name=\"left_pairs\">Paires restantes : %1$s</string>\r\n    <string name=\"left_pieces\">Pi√®ces restantes : %1$s</string>\r\n    <string name=\"background_edit_screen\">MODIFIER L\\'ARRI√àRE-PLAN</string>\r\n    <string name=\"pin_edit_screen\">MODIFIER LE NIP</string>\r\n    <string name=\"gallery_type_all\">Tous</string>\r\n    <string name=\"gallery_type_painting\">Peintures</string>\r\n    <string name=\"gallery_type_sculpture\">Sculptures</string>\r\n    <string name=\"gallery_type_architecture\">Architecture</string>\r\n    <string name=\"gallery_type_other\">Autres</string>\r\n    <string name=\"general_information_figure\">Informations g√©n√©rales:</string>\r\n    <string name=\"error_figure\">Erreur: Impossible de contr√¥ler la figure avec l\\‚Äôidentifiant %1$d</string>\r\n    <string name=\"play_audio\"></string>\r\n    <string name=\"error_connection_title\">Oups ! Une erreur est survenue</string>\r\n    <string name=\"error_connection_desc\">Nous n\\'avons pas pu charger la carte. Veuillez v√©rifier votre connexion internet et r√©essayer.</string>\r\n    <string name=\"retry\">R√©essayer</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-fr/strings.xml b/app/src/main/res/values-fr/strings.xml
--- a/app/src/main/res/values-fr/strings.xml	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
+++ b/app/src/main/res/values-fr/strings.xml	(date 1765025263132)
@@ -73,10 +73,10 @@
     <string name="font_big">Grande</string>
     <string name="title_monasterio">Monast√®re</string>
     <string name="title_entrada">Entr√©e du Monast√®re</string>
-    <string name="spanish_language">Espagnol</string>
-    <string name="german_language">Allemand</string>
+    <string name="spanish_language">Espa√±ol</string>
+    <string name="german_language">Deutsch</string>
     <string name="lang_fr">Fran√ßais</string>
-    <string name="english_language">Anglais</string>
+    <string name="english_language">English</string>
     <string name="navegation_button">Masquer les boutons de navigation</string>
     <string name="close">Fermer</string>
     <string name="go_back">Retourner</string>
Index: app/src/main/res/values-de/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <string name=\"app_name\">Santa Mar√≠a la Real de Huelgas</string>\r\n    <string name=\"title_inicio\">Startseite</string>\r\n    <string name=\"virtual_visit\">VIRTUELLER BESUCH</string>\r\n    <string name=\"book_appointment\">TERMIN BUCHEN</string>\r\n    <string name=\"monastery_name\">Santa Mar√≠a\\nla Real de Huelgas</string>\r\n    <string name=\"edit_mode_activate_icon\">Bearbeitungsmodus</string>\r\n    <string name=\"edit_mode_deactivate_icon\">Bearbeitungsmodus verlassen</string>\r\n    <string name=\"edit_mode_activate_message\">Bearbeitungsmodus aktiviert</string>\r\n    <string name=\"edit_mode_deactivate_message\">Bearbeitungsmodus deaktiviert</string>\r\n    <string name=\"edit_save_changes\">√Ñnderungen speichern</string>\r\n    <string name=\"profile_login\">Anmelden</string>\r\n    <string name=\"profile_logout\">Abmelden</string>\r\n    <string name=\"profile_email\">E-Mail</string>\r\n    <string name=\"profile_password\">Passwort</string>\r\n    <string name=\"navigation_drawer_open\">Navigationsmen√º √∂ffnen</string>\r\n    <string name=\"navigation_drawer_close\">Navigationsmen√º schlie√üen</string>\r\n    <string name=\"menu_info\">Klosterinformationen</string>\r\n    <string name=\"menu_history\">Geschichte</string>\r\n    <string name=\"menu_gallery\">Galerie</string>\r\n    <string name=\"menu_profile\">Profil</string>\r\n    <string name=\"menu_settings\">Einstellungen</string>\r\n    <string name=\"title_info_general\">Allgemeine Informationen</string>\r\n    <string name=\"title_history\">Geschichte</string>\r\n    <string name=\"title_gallery\">Galerie</string>\r\n    <string name=\"title_profile\">Profil</string>\r\n    <string name=\"title_settings\">Einstellungen</string>\r\n    <string name=\"info_location\">Stra√üe‚Ä¶</string>\r\n    <string name=\"info_hours\">Montag-Freitag: XX:XX - YY:YY</string>\r\n    <string name=\"general_info\">Allgemeine Informationen:</string>\r\n    <string name=\"history_1328\">1328 Brand und Wiederaufbau</string>\r\n    <string name=\"history_1328_body\">Bei einem Brand in Valladolid, der von den Truppen Alfons XI. verursacht wurde, wurde das Kloster der Magdalena-Pal√§ste schwer besch√§digt. Die Nonnen begannen den Wiederaufbau dank der finanziellen Hilfe von √Ålvaro Nu√±o P√©rez de Monroy.</string>\r\n    <string name=\"history_1579\">1579 Wiederaufbau von Kirche und Kreuzgang</string>\r\n    <string name=\"history_579_body\">Die Nonnen bauten die Kirche nach den Pl√§nen des italienischen Meisters Pietro Palladio. Das Altarbild war das Werk von Gregorio Fern√°ndez und der neue Kreuzgang von Francisco de Praves. All dies wurde durch die Spenden der √Ñbtissinnen Ana und Isabel de Mendoza erm√∂glicht.</string>\r\n    <string name=\"history_1869\">1869 Geburt der Klosterschule</string>\r\n    <string name=\"history_1869_body\">Die Gemeinschaft von Huelgas Reales er√∂ffnete eine eigene Schule, in der junge adlige M√§dchen aus Valladolid als Tagessch√ºlerinnen aufgenommen wurden.</string>\r\n    <string name=\"history_XX\">20.-21. Jahrhundert Restaurierung und modernes Leben</string>\r\n    <string name=\"history_XX_body\">Das Kloster wurde vollst√§ndig restauriert. Der R√ºckgang der Berufungen f√ºhrte zur Gr√ºndung der Zisterzienser Laienbruderschaft, die den Geist der Regel des Heiligen Benedikt lebendig h√§lt.</string>\r\n    <string name=\"history_2007\">2007 und dar√ºber hinaus Leitung und weibliche Kongregation</string>\r\n    <string name=\"history_2007_body\">Das Kloster ist Teil der Kongregation von Kastilien des Zisterzienserordens, die seit 2007 als weibliche Kongregation aktiv ist. Die erste Pr√§sidentin √Ñbtissin war Mar√≠a del Mar Mart√≠nez; nach ihrem Tod im Jahr 2013 √ºbernahm Schwester Isabel Vall√©s Gallego. Derzeit leitet Schwester Mar√≠a das Kloster und die Schule.</string>\r\n    <string name=\"title_appointment\">Einen Termin buchen</string>\r\n    <string name=\"option_phone_appointment\">Telefonisch buchen</string>\r\n    <string name=\"option_online_appointment\">Online buchen</string>\r\n    <string name=\"name_appointment\">Vollst√§ndiger Name</string>\r\n    <string name=\"email_appointment\">E-Mail</string>\r\n    <string name=\"date_appointment\">Datum</string>\r\n    <string name=\"hour_appointment\">Uhrzeit</string>\r\n    <string name=\"placeholdername_appointment\">Geben Sie Ihren vollst√§ndigen Namen ein</string>\r\n    <string name=\"placeholderemail_appointment\">Geben Sie Ihre E-Mail-Adresse ein</string>\r\n    <string name=\"placeholderdate_appointment\">W√§hlen Sie ein Datum</string>\r\n    <string name=\"placeholderhour_appointment\">W√§hlen Sie eine Uhrzeit</string>\r\n    <string name=\"compulsory_name\">Der Name ist obligatorisch</string>\r\n    <string name=\"valid_name\">Der Name enth√§lt ein ung√ºltiges Symbol</string>\r\n    <string name=\"compulsory_email\">Die E-Mail ist obligatorisch</string>\r\n    <string name=\"valid_email\">Das E-Mail-Format ist ung√ºltig</string>\r\n    <string name=\"date_no_selected\">Ein Datum muss ausgew√§hlt werden</string>\r\n    <string name=\"hour_no_selected\">Eine Uhrzeit muss ausgew√§hlt werden</string>\r\n    <string name=\"datepicker_ok\">Ok</string>\r\n    <string name=\"datepicker_cancel\">Abbrechen</string>\r\n    <string name=\"confirm_button\">BEST√ÑTIGEN</string>\r\n    <string name=\"contentimage_confirmation\">Best√§tigt</string>\r\n    <string name=\"confirmation_appointment\">FAST FERTIG!</string>\r\n    <string name=\"details_appointment\">Ihre Buchungsanfrage ist fertig. Bitte dr√ºcken Sie in der gerade ge√∂ffneten Messaging-App auf Senden, um Ihre Anfrage abzuschlie√üen. Wir werden Ihnen auf diese E-Mail antworten, um die Verf√ºgbarkeit zu best√§tigen.</string>\r\n    <string name=\"email_subject\">Anfrage zur Besuchsreservierung - %1$s</string>\r\n    <string name=\"email_message\">Hallo,\\n\\nich m√∂chte eine Reservierung f√ºr einen Besuch des Klosters mit folgenden Details anfragen:\\n\\n* Name: %1$s\\n* E-Mail: %2$s\\n* Besuchsdatum: %3$s\\n* Besuchszeit: %4$s\\n\\nIch erwarte Ihre freundliche Best√§tigung.\\n\\nVielen Dank,\\nMit freundlichen Gr√º√üen,\\n\\n%1$s</string>\r\n    <string name=\"email_error\">Keine Messaging-Anwendung gefunden</string>\r\n    <string name=\"history_content_placeholder\">Mauris vel nisi id metus vestibulum vehicula nec ac orci. Curabitur massa diam, fermentum sit amet augue sit, volutpat efficitur enim. Phasellus a cursus orci, id laoreet dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</string>\r\n    <string name=\"language_select\">Sprache ausw√§hlen</string>\r\n    <string name=\"font_size_select\">Schriftgr√∂√üe ausw√§hlen</string>\r\n    <string name=\"font_extrabig\">Extra Gro√ü</string>\r\n    <string name=\"font_normal\">Mittel</string>\r\n    <string name=\"font_big\">Gro√ü</string>\r\n    <string name=\"title_monasterio\">Kloster</string>\r\n    <string name=\"title_entrada\">Klostereingang</string>\r\n    <string name=\"spanish_language\">Spanisch</string>\r\n    <string name=\"german_language\">Deutsch</string>\r\n    <string name=\"lang_fr\">Franz√∂sisch</string>\r\n    <string name=\"english_language\">Englisch</string>\r\n    <string name=\"navegation_button\">Navigationsschaltfl√§chen ausblenden</string>\r\n    <string name=\"close\">Schlie√üen</string>\r\n    <string name=\"go_back\">Zur√ºck</string>\r\n    <string name=\"see_360\">360¬∫ ansehen</string>\r\n    <string name=\"contentdescription_image_pin\">Pin-Bild (zum Vergr√∂√üern klicken)</string>\r\n    <string name=\"readjust\">Neuanpassen</string>\r\n    <string name=\"decrease\">Verkleinern</string>\r\n    <string name=\"increase\">Vergr√∂√üern</string>\r\n    <string name=\"out_interactive_area\">Au√üerhalb des interaktiven Bereichs</string>\r\n    <string name=\"notdefined_destiny\">Ziel nicht definiert</string>\r\n    <string name=\"notdefined_destinyplane\">Zielplan nicht definiert</string>\r\n    <string name=\"plane_loading\">Plan wird geladen‚Ä¶</string>\r\n    <string name=\"error_loading_plane\">Fehler beim Laden der Plandaten</string>\r\n    <string name=\"child_mode\">KINDERMODUS</string>\r\n    <string name=\"child_mode_view\">Kindermodus</string>\r\n    <string name=\"video_view\">Video</string>\r\n    <string name=\"game_view\">Spiele</string>\r\n    <string name=\"video_child\">VIDEO</string>\r\n    <string name=\"game_child\">SPIELE</string>\r\n    <string name=\"edit_mode\">BEARBEITUNGSMODUS</string>\r\n    <string name=\"edit_home_background\">Bearbeitung des Home-Hintergrunds</string>\r\n    <string name=\"edit_pins\">Pin-Bearbeitung</string>\r\n    <string name=\"location_error\">Keine Anwendung zum √ñffnen des Standorts gefunden.</string>\r\n    <string name=\"contact_data\">Kontaktdaten</string>\r\n    <string name=\"location_data\">Standort</string>\r\n    <string name=\"email_data\">E-Mail</string>\r\n    <string name=\"phone_data\">Telefon</string>\r\n    <string name=\"visit_schedule\">Besuchszeiten</string>\r\n    <string name=\"monday_to_friday\">Montag bis Freitag:</string>\r\n    <string name=\"four_pieces\">4 Teile</string>\r\n    <string name=\"nine_pieces\">9 Teile</string>\r\n    <string name=\"sixteen_pieces\">16 Teile</string>\r\n    <string name=\"twentyfive_pieces\">25 Teile</string>\r\n    <string name=\"three_pairs\">3 Paare</string>\r\n    <string name=\"four_pairs\">4 Paare</string>\r\n    <string name=\"five_pairs\">5 Paare</string>\r\n    <string name=\"six_pairs\">6 Paare</string>\r\n    <string name=\"dont_show_again\">Nicht mehr anzeigen</string>\r\n    <string name=\"understand\">Verstanden</string>\r\n    <string name=\"map_tutorial_body\">Dies ist der Tutorial-Text</string>\r\n    <string name=\"map_tutorial_title\">Dies ist der Tutorial-Titel</string>\r\n    <string name=\"map_tutorial_body2\">Dies ist der Text des Karten-Tutorials 2</string>\r\n    <string name=\"map_tutorial_title2\">Dies ist der Titel des Karten-Tutorials 2</string>\r\n    <string name=\"pin_tutorial_body\">Dies ist der Text des Pin-Tutorials</string>\r\n    <string name=\"pine_tutorial_title\">Dies ist der Titel des Pin-Tutorials</string>\r\n    <string name=\"next\">Weiter</string>\r\n    <string name=\"map_tutorial_body1\">Oben links erm√∂glicht das Symbol (‚Üê) die R√ºckkehr zum Anfang</string>\r\n    <string name=\"map_tutorial_body1_2\">Durch Ber√ºhren der farbigen Bereiche der Karte k√∂nnen wir auf die verschiedenen sichtbaren Teile zugreifen</string>\r\n    <string name=\"map_tutorial_body1_3\">Au√üerdem erm√∂glichen Ihnen die Schaltfl√§chen auf der rechten Seite, hinein- oder herauszuzoomen oder zur Originalgr√∂√üe der Karte zur√ºckzukehren</string>\r\n    <string name=\"submapa_1\">Durch Ber√ºhren des Symbols (‚Üê) k√∂nnen wir zur allgemeinen Karte zur√ºckkehren</string>\r\n    <string name=\"submapa_2\">Durch Ber√ºhren der verschiedenen Pins k√∂nnen wir auf die Sehensw√ºrdigkeiten zugreifen</string>\r\n    <string name=\"pin_1\">Durch Dr√ºcken des Symbols (‚Üê) k√∂nnen Sie zur Karte zur√ºckkehren</string>\r\n    <string name=\"pin_2\">Sie k√∂nnen die Bilder durchbl√§ttern oder zum Vergr√∂√üern darauf klicken</string>\r\n    <string name=\"pin_3\">Durch Klicken hier k√∂nnen Sie den Text anh√∂ren</string>\r\n    <string name=\"pin_4\">Um zur 360¬∞-Ansicht zu gelangen, dr√ºcken Sie diese Taste</string>\r\n    <string name=\"confirm_save_title\">√Ñnderungen speichern?</string>\r\n    <string name=\"confirm_save_message\">Sind Sie sicher, dass Sie die vorgenommenen √Ñnderungen speichern m√∂chten?</string>\r\n    <string name=\"confirm_save_button\">Speichern</string>\r\n    <string name=\"confirm_cancel_button\">Abbrechen</string>\r\n    <string name=\"edit_cancel_changes\">Abbrechen</string>\r\n    <string name=\"profile_name\">Name</string>\r\n    <string name=\"image_add\">Bild hinzuf√ºgen</string>\r\n    <string name=\"image_delete\">L√∂schen</string>\r\n    <string name=\"image_delete_confirm_title\">Bild l√∂schen?</string>\r\n    <string name=\"image_delete_confirm_message\">Sind Sie sicher, dass Sie das Bild l√∂schen m√∂chten?</string>\r\n    <string name=\"image_uploading\">Bild wird hochgeladen...</string>\r\n    <string name=\"image_upload_success\">Bild erfolgreich hochgeladen</string>\r\n    <string name=\"image_upload_error\">Fehler beim Hochladen des Bildes</string>\r\n    <string name=\"image_select_error\">Fehler beim Laden des Bildes</string>\r\n    <string name=\"congratulations\">Herzlichen Gl√ºckwunsch!</string>\r\n    <string name=\"message_game_completed\">Sie haben das Spiel gel√∂st! Bereit f√ºr die n√§chste Herausforderung?</string>\r\n    <string name=\"ready\">Bereit</string>\r\n    <string name=\"original_image\">Bild anzeigen</string>\r\n    <string name=\"image_gallery_title\">Bilder</string>\r\n    <string name=\"visible\">Sichtbar</string>\r\n    <string name=\"hidden\">Versteckt</string>\r\n    <string name=\"lang_en\">Englisch</string>\r\n    <string name=\"lang_es\">Spanisch</string>\r\n    <string name=\"sample_text\">Beispiel</string>\r\n    <string name=\"lang_de\">Deutsch</string>\r\n    <string name=\"font_small\">Klein</string>\r\n    <string name=\"font_medium\">Mittel</string>\r\n    <string name=\"font_large\">Gro√ü</string>\r\n    <string name=\"puzzle_screen\">Puzzle</string>\r\n    <string name=\"puzzle_option\">PUZZLE</string>\r\n    <string name=\"memory_screen\">Paare</string>\r\n    <string name=\"memory_option\">PAARE</string>\r\n    <string name=\"differences_game\">UNTERSCHIEDE</string>\r\n    <string name=\"differences_screen\">Unterschiede</string>\r\n    <string name=\"title_instructions\">Hallo, superspieler!</string>\r\n    <string name=\"text_instructions_puzzle\">Bist du bereit, dieses unglaubliche Puzzle zusammenzusetzen?\\n\\nDas Spielen ist ganz einfach:\\n\\u2022 W√§hle ein Teil unten auf dem Bildschirm aus und halte es einige Sekunden lang gedr√ºckt.\\n\\u2022 Magie! Dieses Teil wird nun schweben und du kannst es mit deinem Finger bewegen.\\n\\u2022 Ziehe das Teil an die Stelle auf dem Brett, wo es deiner Meinung nach hingeh√∂rt.\\n\\u2022 Wenn du es an der richtigen Stelle platzierst, rastet es ein und bleibt fixiert! Wenn es nicht die richtige Stelle ist, kehrt es zur Kiste zur√ºck.\\nGeben Sie nicht auf, bis das Puzzle fertig ist!\\nViel Gl√ºck!</string>\r\n    <string name=\"text_instructions_spot_the_difference\">Bist du bereit, die versteckten Unterschiede zu finden?\\n\\nDas Spielen ist ganz einfach.\\n\\u2022 Sieh dir die beiden Bilder genau an, die identisch aussehen.\\n\\u2022 Suche nach Details, die sich im unteren Bild ver√§ndert haben oder fehlen.\\n\\u2022 Tippe auf die Stelle im Bild, an der du einen Unterschied gefunden hast.\\n\\u2022 Super! Wenn du richtig liegst, wird der Unterschied hervorgehoben.\\nEs gibt nur 5! Gib nicht auf, bis du alle gefunden hast.\\nViel Gl√ºck!</string>\r\n    <string name=\"text_instructions_pairs\">Bist du bereit, alle Paare zu finden?\\n\\nAnleitung:\\nSchauen Sie sich die Bilder genau an, bevor sie versteckt werden, und finden Sie alle Paare. Ber√ºhren Sie die Quadrate, um das versteckte Bild aufzudecken, bis Sie zwei identische Paare finden.\\nFahren Sie fort, bis Sie alle Paare gefunden haben.\\nViel Spa√ü und testen Sie Ihr Ged√§chtnis!</string>\r\n    <string name=\"differences_counter\">Gefundene Unterschiede: %1$d / %2$d</string>\r\n    <string name=\"back_piece\">R√ºckseite des Teils</string>\r\n    <string name=\"left_pairs\">Verbleibende Paare: %1$s</string>\r\n    <string name=\"left_pieces\">Verbleibende Teile: %1$s</string>\r\n    <string name=\"background_edit_screen\">HINTERGRUND BEARBEITEN</string>\r\n    <string name=\"pin_edit_screen\">PIN BEARBEITEN</string>\r\n    <string name=\"gallery_type_all\">Alle</string>\r\n    <string name=\"gallery_type_painting\">Gem√§lde</string>\r\n    <string name=\"gallery_type_sculpture\">Skulpturen</string>\r\n    <string name=\"gallery_type_architecture\">Architektur</string>\r\n    <string name=\"gallery_type_other\">Andere</string>\r\n    <string name=\"general_information_figure\">Allgemeine Informationen:</string>\r\n    <string name=\"error_figure\">Fehler: Figur mit der ID %1$d kann nicht gesteuert werden</string>\r\n    <string name=\"play_audio\"></string>\r\n    <string name=\"error_connection_title\">Hoppla! Ein Fehler ist aufgetreten</string>\r\n    <string name=\"error_connection_desc\">Wir konnten die Karte nicht laden. Bitte √ºberpr√ºfen Sie Ihre Internetverbindung und versuchen Sie es erneut.</string>\r\n    <string name=\"retry\">Erneut versuchen</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-de/strings.xml b/app/src/main/res/values-de/strings.xml
--- a/app/src/main/res/values-de/strings.xml	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
+++ b/app/src/main/res/values-de/strings.xml	(date 1765025263331)
@@ -73,10 +73,10 @@
     <string name="font_big">Gro√ü</string>
     <string name="title_monasterio">Kloster</string>
     <string name="title_entrada">Klostereingang</string>
-    <string name="spanish_language">Spanisch</string>
+    <string name="spanish_language">Espa√±ol</string>
     <string name="german_language">Deutsch</string>
-    <string name="lang_fr">Franz√∂sisch</string>
-    <string name="english_language">Englisch</string>
+    <string name="lang_fr">Fran√ßais</string>
+    <string name="english_language">English</string>
     <string name="navegation_button">Navigationsschaltfl√§chen ausblenden</string>
     <string name="close">Schlie√üen</string>
     <string name="go_back">Zur√ºck</string>
Index: app/src/main/res/values-en/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <string name=\"app_name\">Santa Mar√≠a la Real de Huelgas</string>\r\n    <string name=\"title_inicio\">Home</string>\r\n    <string name=\"virtual_visit\">VIRTUAL VISIT</string>\r\n    <string name=\"book_appointment\">BOOK APPOINTMENT</string>\r\n    <string name=\"monastery_name\">Santa Mar√≠a\\nla Real de Huelgas</string>\r\n    <string name=\"edit_mode_activate_icon\">Edit mode</string>\r\n    <string name=\"edit_mode_deactivate_icon\">Exit edit mode</string>\r\n    <string name=\"edit_mode_activate_message\">Edit mode activated</string>\r\n    <string name=\"edit_mode_deactivate_message\">Edit mode deactivated</string>\r\n    <string name=\"edit_save_changes\">Save changes</string>\r\n    <string name=\"profile_login\">Log In</string>\r\n    <string name=\"profile_logout\">Log Out</string>\r\n    <string name=\"profile_email\">Email</string>\r\n    <string name=\"profile_password\">Password</string>\r\n    <string name=\"navigation_drawer_open\">Open navigation drawer</string>\r\n    <string name=\"navigation_drawer_close\">Close navigation drawer</string>\r\n    <string name=\"menu_info\">Monastery information</string>\r\n    <string name=\"menu_history\">History</string>\r\n    <string name=\"menu_gallery\">Gallery</string>\r\n    <string name=\"menu_profile\">Profile</string>\r\n    <string name=\"menu_settings\">Settings</string>\r\n    <string name=\"title_info_general\">General Information</string>\r\n    <string name=\"title_history\">History</string>\r\n    <string name=\"title_gallery\">Gallery</string>\r\n    <string name=\"title_profile\">Profile</string>\r\n    <string name=\"title_settings\">Settings</string>\r\n    <string name=\"info_location\">Street...</string>\r\n    <string name=\"info_hours\">Monday-Friday: XX:XX - YY:YY</string>\r\n    <string name=\"general_info\">General information:</string>\r\n    <string name=\"history_1328\">1328 Fire and reconstruction</string>\r\n    <string name=\"history_1328_body\">During a fire in Valladolid caused by Alfonso XI\\'s troops, the Magdalena Palace monastery was severely damaged. The nuns began its reconstruction thanks to the financial help of √Ålvaro Nu√±o P√©rez de Monroy.</string>\r\n    <string name=\"history_1579\">1579 Reconstruction of the church and cloister</string>\r\n    <string name=\"history_579_body\">The nuns built the church according to the plans of the Italian master Pietro Palladio. The altarpiece was the work of Gregorio Fern√°ndez and the new cloister, of Francisco de Praves. All this was made possible thanks to the donations of abbesses Ana and Isabel de Mendoza.</string>\r\n    <string name=\"history_1869\">1869 Birth of the monastery school</string>\r\n    <string name=\"history_1869_body\">The community of Huelgas Reales opened its own school, welcoming young noble girls from Valladolid as day boarders.</string>\r\n    <string name=\"history_XX\">20th-21st centuries Restoration and modern life</string>\r\n    <string name=\"history_XX_body\">The monastery has been fully restored. The decrease in vocations led to the creation of the Cistercian Lay Fraternity, which keeps the spirit of the Rule of Saint Benedict alive.</string>\r\n    <string name=\"history_2007\">2007 and beyond Leadership and female Congregation</string>\r\n    <string name=\"history_2007_body\">The monastery is part of the Congregation of Castile of the Cistercian Order, active as a female congregation since 2007. The first president abbess was Mar√≠a del Mar Mart√≠nez; after her death in 2013, Sister Isabel Vall√©s Gallego took over. Currently, Sister Mar√≠a manages the monastery and the school.</string>\r\n    <string name=\"title_appointment\">Book an Appointment</string>\r\n    <string name=\"option_phone_appointment\">Book by phone</string>\r\n    <string name=\"option_online_appointment\">Book online</string>\r\n    <string name=\"name_appointment\">Full name</string>\r\n    <string name=\"email_appointment\">Email</string>\r\n    <string name=\"date_appointment\">Date</string>\r\n    <string name=\"hour_appointment\">Time</string>\r\n    <string name=\"placeholdername_appointment\">Enter your full name</string>\r\n    <string name=\"placeholderemail_appointment\">Enter your email</string>\r\n    <string name=\"placeholderdate_appointment\">Select a date</string>\r\n    <string name=\"placeholderhour_appointment\">Select an hour</string>\r\n    <string name=\"compulsory_name\">Name is compulsory</string>\r\n    <string name=\"valid_name\">Name contains an invalid symbol</string>\r\n    <string name=\"compulsory_email\">Email is compulsory</string>\r\n    <string name=\"valid_email\">Email format is not valid</string>\r\n    <string name=\"date_no_selected\">A date must be selected</string>\r\n    <string name=\"hour_no_selected\">An hour must be selected</string>\r\n    <string name=\"datepicker_ok\">Ok</string>\r\n    <string name=\"datepicker_cancel\">Cancel</string>\r\n    <string name=\"confirm_button\">CONFIRM</string>\r\n    <string name=\"contentimage_confirmation\">Confirmed</string>\r\n    <string name=\"confirmation_appointment\">ALMOST DONE!</string>\r\n    <string name=\"details_appointment\">Your booking request is ready. Please press send in the messaging app that just opened to finalize your request. We will reply to that email to confirm availability.</string>\r\n    <string name=\"email_subject\">Visit Reservation Request - %1$s</string>\r\n    <string name=\"email_message\">Hello,\\n\\nI would like to request a reservation for a visit to the monastery with the following details:\\n\\n* Name: %1$s\\n* Email: %2$s\\n* Visit Date: %3$s\\n* Visit Time: %4$s\\n\\nI await your kind confirmation.\\n\\nThank you very much,\\nSincerely,\\n\\n%1$s</string>\r\n    <string name=\"email_error\">No messaging application found</string>\r\n    <string name=\"history_content_placeholder\">Mauris vel nisi id metus vestibulum vehicula nec ac orci. Curabitur massa diam, fermentum sit amet augue sit, volutpat efficitur enim. Phasellus a cursus orci, id laoreet dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</string>\r\n    <string name=\"language_select\">Select language</string>\r\n    <string name=\"font_size_select\">Select font size</string>\r\n    <string name=\"font_extrabig\">Extra Large</string>\r\n    <string name=\"font_normal\">Medium</string>\r\n    <string name=\"font_big\">Large</string>\r\n    <string name=\"title_monasterio\">Monastery</string>\r\n    <string name=\"title_entrada\">Monastery Entrance</string>\r\n    <string name=\"spanish_language\">Spanish</string>\r\n    <string name=\"german_language\">German</string>\r\n    <string name=\"lang_fr\">French</string>\r\n    <string name=\"english_language\">English</string>\r\n    <string name=\"navegation_button\">Hide navigation buttons</string>\r\n    <string name=\"close\">Close</string>\r\n    <string name=\"go_back\">Go back</string>\r\n    <string name=\"see_360\">See 360¬∫</string>\r\n    <string name=\"contentdescription_image_pin\">Pin image (click to enlarge)</string>\r\n    <string name=\"readjust\">Readjust</string>\r\n    <string name=\"decrease\">Decrease</string>\r\n    <string name=\"increase\">Increase</string>\r\n    <string name=\"out_interactive_area\">Out of interactive area</string>\r\n    <string name=\"notdefined_destiny\">Destination not defined</string>\r\n    <string name=\"notdefined_destinyplane\">Destination plan not defined</string>\r\n    <string name=\"plane_loading\">Loading plan‚Ä¶</string>\r\n    <string name=\"error_loading_plane\">Error loading plan data</string>\r\n    <string name=\"child_mode\">CHILD MODE</string>\r\n    <string name=\"child_mode_view\">Children\\'s Mode</string>\r\n    <string name=\"video_view\">Video</string>\r\n    <string name=\"game_view\">Games</string>\r\n    <string name=\"video_child\">VIDEO</string>\r\n    <string name=\"game_child\">GAMES</string>\r\n    <string name=\"edit_mode\">EDIT MODE</string>\r\n    <string name=\"edit_home_background\">Edit home background</string>\r\n    <string name=\"edit_pins\">Pin editing</string>\r\n    <string name=\"location_error\">No application found to open location.</string>\r\n    <string name=\"contact_data\">Contact data</string>\r\n    <string name=\"location_data\">Location</string>\r\n    <string name=\"email_data\">Email</string>\r\n    <string name=\"phone_data\">Phone</string>\r\n    <string name=\"visit_schedule\">Visit Schedule</string>\r\n    <string name=\"monday_to_friday\">Monday to Friday:</string>\r\n    <string name=\"four_pieces\">4 pieces</string>\r\n    <string name=\"nine_pieces\">9 pieces</string>\r\n    <string name=\"sixteen_pieces\">16 pieces</string>\r\n    <string name=\"twentyfive_pieces\">25 pieces</string>\r\n    <string name=\"three_pairs\">3 Pairs</string>\r\n    <string name=\"four_pairs\">4 Pairs</string>\r\n    <string name=\"five_pairs\">5 Pairs</string>\r\n    <string name=\"six_pairs\">6 Pairs</string>\r\n    <string name=\"dont_show_again\">Don\\'t show again</string>\r\n    <string name=\"understand\">Understood</string>\r\n    <string name=\"map_tutorial_body\">This is the tutorial body</string>\r\n    <string name=\"map_tutorial_title\">This is the tutorial title</string>\r\n    <string name=\"map_tutorial_body2\">This is map tutorial body 2</string>\r\n    <string name=\"map_tutorial_title2\">This is map tutorial title 2</string>\r\n    <string name=\"pin_tutorial_body\">This is the pin tutorial body</string>\r\n    <string name=\"pine_tutorial_title\">This is the pin tutorial title</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"map_tutorial_body1\">In the top left, the symbol (‚Üê) allows you to return to the beginning</string>\r\n    <string name=\"map_tutorial_body1_2\">By touching the colored areas of the map, we can access the different viewable parts</string>\r\n    <string name=\"map_tutorial_body1_3\">Also, the buttons on the right allow you to zoom in, zoom out, or return to the original size of the map</string>\r\n    <string name=\"submapa_1\">By touching the symbol (‚Üê), we can return to the general map</string>\r\n    <string name=\"submapa_2\">By touching the different pins, we can access the points of interest</string>\r\n    <string name=\"pin_1\">By pressing the symbol (‚Üê), you can return to the map</string>\r\n    <string name=\"pin_2\">You can scroll through the images or click on them to enlarge</string>\r\n    <string name=\"pin_3\">By clicking here, you can listen to the audio of the text</string>\r\n    <string name=\"pin_4\">To access the 360 view, press this button</string>\r\n    <string name=\"confirm_save_title\">Save changes?</string>\r\n    <string name=\"confirm_save_message\">Are you sure you want to save the changes made?</string>\r\n    <string name=\"confirm_save_button\">Save</string>\r\n    <string name=\"confirm_cancel_button\">Cancel</string>\r\n    <string name=\"edit_cancel_changes\">Cancel</string>\r\n    <string name=\"profile_name\">Name</string>\r\n    <string name=\"image_add\">Add image</string>\r\n    <string name=\"image_delete\">Delete</string>\r\n    <string name=\"image_delete_confirm_title\">Delete image?</string>\r\n    <string name=\"image_delete_confirm_message\">Are you sure you want to delete the image?</string>\r\n    <string name=\"image_uploading\">Uploading image...</string>\r\n    <string name=\"image_upload_success\">Image uploaded successfully</string>\r\n    <string name=\"image_upload_error\">Error uploading image</string>\r\n    <string name=\"image_select_error\">Error loading image</string>\r\n    <string name=\"congratulations\">Congratulations!</string>\r\n    <string name=\"message_game_completed\">You have solved the game! Ready for the next challenge?</string>\r\n    <string name=\"ready\">Ready</string>\r\n    <string name=\"original_image\">View image</string>\r\n    <string name=\"image_gallery_title\">Images</string>\r\n    <string name=\"visible\">Visible</string>\r\n    <string name=\"hidden\">Hidden</string>\r\n    <string name=\"lang_en\">English</string>\r\n    <string name=\"lang_es\">Spanish</string>\r\n    <string name=\"sample_text\">Sample</string>\r\n    <string name=\"lang_de\">German</string>\r\n    <string name=\"font_small\">Small</string>\r\n    <string name=\"font_medium\">Medium</string>\r\n    <string name=\"font_large\">Large</string>\r\n    <string name=\"puzzle_screen\">Puzzle</string>\r\n    <string name=\"puzzle_option\">PUZZLE</string>\r\n    <string name=\"memory_screen\">Pairs</string>\r\n    <string name=\"memory_option\">PAIRS</string>\r\n    <string name=\"differences_game\">DIFFERENCES</string>\r\n    <string name=\"differences_screen\">Differences</string>\r\n    <string name=\"title_instructions\">Hello, super player!</string>\r\n    <string name=\"text_instructions_puzzle\">Are you ready to assemble this amazing puzzle?\\n\\nTo play, it\\'s very easy:\\n\\u2022 Choose a piece at the bottom of the screen and hold down on it for a few seconds.\\n\\u2022 Magic! This piece will now float and you can move it with your finger.\\n\\u2022 Drag the piece to the spot on the board where you think it goes.\\n\\u2022 If you put it in the right spot, it will snap into place and stay fixed! If it\\'s not the right spot, it will return to the box.\\nDon\\'t give up until the puzzle is complete!\\nGood luck!</string>\r\n    <string name=\"text_instructions_spot_the_difference\">Are you ready to find the hidden differences?\\n\\nPlaying is easy:\\n\\u2022 Look closely at the two images that appear identical.\\n\\u2022 Look for details that have changed or are missing in the image below.\\n\\u2022 Tap the area of the image where you found a difference.\\n\\u2022 Great! If you\\'re right, the difference will be highlighted.\\nThere are only 5! Don\\'t give up until you find them all.\\nGood luck!</string>\r\n    <string name=\"text_instructions_pairs\">Are you ready to find all the pairs?\\n\\nInstructions:\\n\\u2022 Look carefully at the images before they are hidden and find all the pairs.\\n\\u2022 Touch the squares to reveal the hidden image until you find two identical pairs.\\n\\u2022 Continue until you find all the pairs.\\nHave fun and test your memory!</string>\r\n    <string name=\"differences_counter\">Differences found: %1$d / %2$d</string>\r\n    <string name=\"back_piece\">Back of the piece</string>\r\n    <string name=\"left_pairs\">Pairs remaining: %1$s</string>\r\n    <string name=\"left_pieces\">Pieces remaining: %1$s</string>\r\n    <string name=\"background_edit_screen\">EDIT BACKGROUND</string>\r\n    <string name=\"pin_edit_screen\">EDIT PIN</string>\r\n    <string name=\"gallery_type_all\">All</string>\r\n    <string name=\"gallery_type_painting\">Paintings</string>\r\n    <string name=\"gallery_type_sculpture\">Sculptures</string>\r\n    <string name=\"gallery_type_architecture\">Architecture</string>\r\n    <string name=\"gallery_type_other\">Others</string>\r\n    <string name=\"general_information_figure\">General information:</string>\r\n    <string name=\"error_figure\">Error: Figure with ID %1$d cannot be checked</string>\r\n    <string name=\"play_audio\"></string>\r\n    <string name=\"error_connection_title\">Oops! An error occurred</string>\r\n    <string name=\"error_connection_desc\">We couldn\\'t load the map. Please check your internet connection and try again.</string>\r\n    <string name=\"retry\">Retry</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-en/strings.xml b/app/src/main/res/values-en/strings.xml
--- a/app/src/main/res/values-en/strings.xml	(revision 86b93981b280c436d0b98b8aec5a8eac46ee1186)
+++ b/app/src/main/res/values-en/strings.xml	(date 1765025263350)
@@ -73,9 +73,9 @@
     <string name="font_big">Large</string>
     <string name="title_monasterio">Monastery</string>
     <string name="title_entrada">Monastery Entrance</string>
-    <string name="spanish_language">Spanish</string>
-    <string name="german_language">German</string>
-    <string name="lang_fr">French</string>
+    <string name="spanish_language">Espa√±ol</string>
+    <string name="german_language">Deutsch</string>
+    <string name="lang_fr">Fran√ßais</string>
     <string name="english_language">English</string>
     <string name="navegation_button">Hide navigation buttons</string>
     <string name="close">Close</string>
